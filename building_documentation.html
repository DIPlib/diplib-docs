<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Building &raquo; Building the DIPlib documentation | DIPlib | a library for quantitative image analysis</title>
  <link rel="stylesheet" href="m-dip+documentation.compiled.css" />
  <link rel="icon" href="DIPlib_logo_32.png" type="image/png" />
  <link rel="search" type="application/opensearchdescription+xml" href="opensearch.xml" title="Search DIPlib documentation" />
  <link rel="prev" href="building_windows.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#ffffff" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <span id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">
        <a href="https://diplib.org"><img src="DIPlib_logo.svg" alt="" />DIPlib</a><span class="m-breadcrumb">┃</span><a href="index.html" class="m-thin">a library for quantitative image analysis</a><span class="m-breadcrumb">┃</span><a href="https://github.com/DIPlib/diplib/releases/tag/3.4.0" class="m-thin">version 3.4.0</a>      </span>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="classes.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="building_diplib.html">Building</a> &raquo;</span>
          Building the <em>DIPlib</em> documentation
        </h1>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li><a href="#apidoc_dependencies">Installing the dependencies</a></li>
            <li><a href="#apidoc_doxpp">Installing <em>dox++</em></a></li>
            <li><a href="#apidoc_cmake">Configuring <em>CMake</em></a></li>
            <li><a href="#apidoc_building">Building the documentation</a></li>
            <li><a href="#apidoc_official">Building the official documentation</a></li>
          </ul>
        </div>
<p>The documentation is built using <a href="https://crisluengo.github.io/doxpp/"><em>dox++</em></a>, which
requires <em>Python 3</em> and a set of packages. It also requires a <em>LaTeX</em> installation to render
the equations. Here we show how to install dependencies on Ubuntu Linux and macOS. For
other Linux distributions the instructions are similar. We have not yet tried building
the documentation on Windows, if you manage to get that done, please write down some
instructions below.</p>
<h2 id="apidoc_dependencies">Installing the dependencies</h2>
<p><em>Python 3</em> can be installed on Ubuntu with</p>
<div class="m-code"><pre><span></span>sudo apt install python3
</pre></div>

<p>and on macOS with</p>
<div class="m-code"><pre><span></span>brew install python3 python3-pip
</pre></div>

<p>We have built the documentation with <em>Python</em> 3.6 and 3.9, it is unknown if versions older
than 3.6 will work.</p>
<p>Once <em>Python</em> is installed, install the required packages:</p>
<div class="m-code"><pre><span></span>pip3 install clang jinja2 markdown markdown-headdown mdx_math_svg Pygments
</pre></div>

<p>Finally, install <em>LaTeX</em>. Ubuntu has a <em>LaTeX</em> package, but we recommend <a href="https://tug.org/texlive/"><em>TeX Live</em></a>.
There is a version of <em>TeX Live</em> specifically packaged for macOS, but that just adds some macOS-specific
GUI tools; it is perfectly fine to use the Unix installation instructions on macOS.</p>
<p>First, download <a href="http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz"><code>install-tl-unx.tar.gz</code></a>,
for example to <code>~/tmp/</code>. Extract its contents (<code>tar xzf install-tl-unx.tar.gz</code>), then navigate into the
newly created directory (<code>cd install-tl-*</code>) and run the installer program (<code>./install-tl</code>) (under Linux
you might have to run this as <code>sudo</code> if you want to install to the default location). Here you can
set up destination directories, etc. (there&rsquo;s a graphical version of the installation program, and a
text version, but they both should allow the same options). To speed up installation, turn off the
options to &ldquo;install font/macro doc tree&rdquo; and &ldquo;install font/macro source tree&rdquo;. Neither are needed,
and together take up nearly half the downloaded bytes. Do turn on the option &ldquo;create symlinks in standard
directories&rdquo;, which is off by default. If you don&rsquo;t want to install the &ldquo;full scheme&rdquo; (which installs
all packages), you might have to separately install a few of the packages needed by the tool that
renders equations using <em>LaTeX</em>:</p>
<div class="m-code"><pre><span></span>tlmgr install standalone preview ucs xkeyval currfile filehook newtx fontaxes xstring
</pre></div>

<h2 id="apidoc_doxpp">Installing <em>dox++</em></h2>
<p>This tool can be installed anywhere. For the purposes of these instructions, we will put it into <code>/opt/</code>,
but you can put it in your home directory as well. All that is needed is cloning the repository:</p>
<div class="m-code"><pre><span></span><span class="nb">cd</span> /opt
git clone https://github.com/crisluengo/doxpp.git
</pre></div>

<p>This will create the directory <code>/opt/doxpp/</code>, containing the two executables <code>dox++parse</code> and <code>dox++html</code>.
We will need to tell <em>CMake</em> where to find these tools.</p>
<h2 id="apidoc_cmake">Configuring <em>CMake</em></h2>
<p>To set up <em>CMake</em> to build the documentation, we need to tell it where the <em>dox++</em> programs are. From
your <em>DIPlib</em> build directory,</p>
<div class="m-code"><pre><span></span>cmake . -DDOXPP_PARSE_EXECUTABLE<span class="o">=</span>/opt/doxpp/dox++parse -DDOXPP_HTML_EXECUTABLE<span class="o">=</span>/opt/doxpp/dox++html
</pre></div>

<p>(obviously substitute your <em>dox++</em> path where it says <code>/opt/doxpp</code>).</p>
<p><em>CMake</em> should now show, in its configuration report, the line:</p>
<div class="m-code"><pre><span></span>Documentation installed to /usr/local/share/doc/DIPlib
</pre></div>

<p>(or something similar, depending on the chosen installation path.)</p>
<h2 id="apidoc_building">Building the documentation</h2>
<p>Once everything is set up, the documentation is build with</p>
<div class="m-code"><pre><span></span>make apidoc
</pre></div>

<p>from the <em>DIPlib</em> build directory.</p>
<p>The documentation will appear in a <code>html/</code> subdirectory of the directory specified in the configuration report.</p>
<p>The first time you build the documentation, it will take quite some time to render all the equations. These
will be cached, such that subsequent builds of the documentation are faster.</p>
<p>If there are errors produced during the rendering of the equations, a long <em>LaTeX</em> output will be shown. This
output should point out which <em>LaTeX</em> package is missing. If you used <em>TeX Live</em> to install <em>LaTeX</em>, use its
package manager to install the missing package and try building again:</p>
<div class="m-code"><pre><span></span>tlmgr install &lt;package name&gt;
</pre></div>

<p>Other errors are not fatal. Some errors even are irrelevant because they relate to non-documented
members. If Clang produces an error while parsing a header file, the contents of that header file will
not make it into the documentation.</p>
<h2 id="apidoc_official">Building the official documentation</h2>
<p>The official documentation at <a href="https://diplib.org/diplib-docs/"><code>diplib.org/diplib-docs/</code></a> is uploaded
to <a href="https://github.com/DIPlib/diplib-docs">the <code>diplib-docs</code> GitHub repository</a>.
The <code>/usr/local/share/doc/DIPlib/html</code> output directory of the <em>dox++</em> tool is the <em>git</em> repository.
Simply push a new build to update the website.</p>
<p>It is important that the official documentation is complete. This means that all modules and extras
must be included. For these to be included, their headers must be parseable by Clang. This again
requires that their dependencies be present. Therefore, it is necessary to have
<a href="https://www.mathworks.com/products/matlab.html"><em>MATLAB</em></a>, <a href="https://opencv.org"><em>OpenCV</em></a> and
<a href="http://ukoethe.github.io/vigra/"><em>Vigra</em></a> installed, and the &ldquo;include directories&rdquo; option in the
<code>doc/dox++config.in</code> file adjusted so that Clang runs through all header files without error.</p>
<aside class="m-note m-info">
<h4>TODO</h4>
<p>Have <em>CMake</em> write all configured include directories into the <code>dox++config</code> file.</p>
</aside>
        <div class="m-note m-dim m-thin m-text-center"><a href="building_windows.html" class="m-doc">&laquo; Building the <em>DIPlib</em> project on Windows</a> | <a href="building_diplib.html" class="m-doc">Building</a></div>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form action="https://diplib.org/diplib-docs/#search">
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript. Enable it or <a href="https://google.com/search?q=site:diplib.org+">use an external search engine</a>.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or modules.
              You can omit any prefix from the symbol or file path; adding a <code>:</code> or
              <code>/</code> suffix lists all members of given symbol or directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span> / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
              <span class="m-label m-dim">Enter</span> to go.
              <span class="m-label m-dim">Tab</span> autocompletes common prefix.
              You can copy a link to the result using <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">L</span>,
              or <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">M</span> to copy a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.<br />Maybe try a full-text <a href="#" id="search-external" data-search-engine="https://google.com/search?q=site:diplib.org+{query}">search with external engine</a>?</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>DIPlib, a library for quantitative image analysis. Documentation compiled with <a href="https://crisluengo.github.io/doxpp/">dox++</a> and styled with <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>