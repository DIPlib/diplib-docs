<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Segmentation &raquo; Graphs module | DIPlib | a library for quantitative image analysis</title>
  <link rel="stylesheet" href="m-dip+documentation.compiled.css" />
  <link rel="icon" href="DIPlib_logo_32.png" type="image/png" />
  <link rel="search" type="application/opensearchdescription+xml" href="opensearch.xml" title="Search DIPlib documentation" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#ffffff" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <span id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">
        <a href="https://diplib.org"><img src="DIPlib_logo.svg" alt="" />DIPlib</a><span class="m-breadcrumb">┃</span><a href="index.html" class="m-thin">a library for quantitative image analysis</a><span class="m-breadcrumb">┃</span><a href="https://github.com/DIPlib/diplib/releases/tag/3.5.2" class="m-thin">version 3.5.2</a>      </span>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="classes.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="segmentation.html">Segmentation</a> &raquo;</span>
          Graphs <span class="m-thin">module</span>          <div class="m-doc-include m-code m-thin m-text-right">#include <a href="file--diplib--graph-h.html">"diplib/graph.h"</a></div>
        </h1>
        <p>Representing graphs and working with an image as a graph.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#nested-classes">Classes</a></li>
                <li><a href="#function-members">Functions</a></li>
              </ul>
            </li>
          </ul>
        </div>
          <aside class="m-note m-default">
<h4>See also</h4>
<p><a href="regions.html#dip-RegionAdjacencyGraph-Image-CL-String-CL"><code>dip::RegionAdjacencyGraph</code></a>, <a href="regions.html#dip-Relabel-Image-CL-Image-L-Graph-CL"><code>dip::Relabel</code></a></p>
</aside>
        <section id="nested-classes">
          <h2>Classes</h2>
          <dl class="m-doc">
                          <dt>
              class <a href="dip-Graph.html" class="m-doc">dip::<wbr />Graph</a>
            </dt>
            <dd>A non-directed, edge-weighted graph.</dd>
                          <dt>
              class <a href="dip-DirectedGraph.html" class="m-doc">dip::<wbr />DirectedGraph</a>
            </dt>
            <dd>A directed, edge-weighted graph.</dd>
          </dl>
        </section>
        <section id="function-members">
          <h2>Functions</h2>
          <dl class="m-doc">
                          <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#dip-MinimumSpanningForest-Graph-CL-std-vector<Graph-VertexIndex>-CL" class="m-doc">dip::<wbr />MinimumSpanningForest</a>(</span><span class="m-doc-wrap"><a href="dip-Graph.html" class="m-doc">dip::Graph</a> const&amp; graph,
              std::vector&lt;Graph::VertexIndex&gt; const&amp; roots = {}) -&gt; <a href="dip-Graph.html" class="m-doc">dip::Graph</a></span>
            </dt>
            <dd>Computes the minimum spanning forest (MSF) of a graph using Prim&rsquo;s algorithm. <a href="#dip-MinimumSpanningForest-Graph-CL-std-vector<Graph-VertexIndex>-CL">more...</a></dd>
                          <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-GraphCut-DirectedGraph-L-DirectedGraph-VertexIndex--DirectedGraph-VertexIndex-" class="m-doc">dip::<wbr />GraphCut</a>(</span><span class="m-doc-wrap"><a href="dip-DirectedGraph.html" class="m-doc">dip::DirectedGraph</a>&amp; graph,
              <a href="dip-DirectedGraph.html#dip-DirectedGraph-VertexIndex" class="m-doc">dip::DirectedGraph::VertexIndex</a> sourceIndex,
              <a href="dip-DirectedGraph.html#dip-DirectedGraph-VertexIndex" class="m-doc">dip::DirectedGraph::VertexIndex</a> sinkIndex)</span>
            </dt>
            <dd>Computes the minimum cut of the graph, separating the source node from the sink node. <a href="#dip-GraphCut-DirectedGraph-L-DirectedGraph-VertexIndex--DirectedGraph-VertexIndex-">more...</a></dd>
                          <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#dip-Label-Graph-CL" class="m-doc">dip::<wbr />Label</a>(</span><span class="m-doc-wrap"><a href="dip-Graph.html" class="m-doc">dip::Graph</a> const&amp; graph) -&gt; <a href="dip-LabelMap.html" class="m-doc">dip::LabelMap</a></span>
            </dt>
            <dd>Connected component analysis of a graph. <a href="#dip-Label-Graph-CL">more...</a></dd>
                          <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#dip-Label-DirectedGraph-CL" class="m-doc">dip::<wbr />Label</a>(</span><span class="m-doc-wrap"><a href="dip-DirectedGraph.html" class="m-doc">dip::DirectedGraph</a> const&amp; graph) -&gt; <a href="dip-LabelMap.html" class="m-doc">dip::LabelMap</a></span>
            </dt>
            <dd>Connected component analysis of a graph. <a href="#dip-Label-DirectedGraph-CL">more...</a></dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
                        <section class="m-doc-details" id="dip-MinimumSpanningForest-Graph-CL-std-vector<Graph-VertexIndex>-CL"><div>
            <h3>
              <span class="m-doc-wrap-bumper"><a href="dip-Graph.html" class="m-doc">dip::Graph</a>
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-MinimumSpanningForest-Graph-CL-std-vector<Graph-VertexIndex>-CL" class="m-doc-self">dip::<wbr />MinimumSpanningForest</a>(</span><span class="m-doc-wrap"><a href="dip-Graph.html" class="m-doc">dip::Graph</a> const&amp; graph,
              std::vector&lt;Graph::VertexIndex&gt; const&amp; roots = {})</span></span>
            </h3>
            <p>Computes the minimum spanning forest (MSF) of a graph using Prim&rsquo;s algorithm.</p>
<p>If <code>roots</code> is an empty set, the vertex with index 0 is used as the root, and the resulting graph
will be a minimum spanning tree (MST). If multiple roots are given, each one will spawn a tree.</p>
<p>The output graph only contains edges reachable from the given roots. Any components not connected
to the roots will not remain in the graph (the vertices will be copied over, but not connected).</p>
          </div></section>
                        <section class="m-doc-details" id="dip-GraphCut-DirectedGraph-L-DirectedGraph-VertexIndex--DirectedGraph-VertexIndex-"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-GraphCut-DirectedGraph-L-DirectedGraph-VertexIndex--DirectedGraph-VertexIndex-" class="m-doc-self">dip::<wbr />GraphCut</a>(</span><span class="m-doc-wrap"><a href="dip-DirectedGraph.html" class="m-doc">dip::DirectedGraph</a>&amp; graph,
              <a href="dip-DirectedGraph.html#dip-DirectedGraph-VertexIndex" class="m-doc">dip::DirectedGraph::VertexIndex</a> sourceIndex,
              <a href="dip-DirectedGraph.html#dip-DirectedGraph-VertexIndex" class="m-doc">dip::DirectedGraph::VertexIndex</a> sinkIndex)</span></span>
            </h3>
            <p>Computes the minimum cut of the graph, separating the source node from the sink node.</p>
<p><code>graph</code> is a directed graph where each edge has a reverse sibling. That is, each pair of connected
vertices must be connected by two edges in opposite direction. The edge weights represent the maximum
flow that can run through it in its natural direction, and will determine where the cut happens.</p>
<p><code>sourceIndex</code> and <code>sinkIndex</code> are indices pointing at the source and sink nodes (vertices).
These are the two marker nodes that will be separated by the cut. If there is more than one marker node
for either source or sink, create a new node that is strongly connected (very large edge weight) to all
these marker nodes, and use this new node as the source or sink.</p>
<p><code>graph</code> is expected to have a path from <code>sourceIndex</code> to <code>sinkIndex</code>. If no such path exists,
there&rsquo;s nothing to cut.</p>
<p>The function will find the maximum flow through the graph from source to sink. This will naturally saturate
a set of edges. This set of edges is the minimum cut that will separate the source from the sink.
The algorithm used to compute the maximum flow is the one proposed by Boykov and Kolmogorov. This algorithm
was shown to be faster than older algorithms when applied to a 2D image converted to a graph using a 4-connected
neighborhood.</p>
<p>The input graph will be modified as follows: The edge weights will reflect the residual of the maximum flow
from the source node to the sink node (i.e. how much more capacity each edge has). The edges with a zero
residual (and their sibling) will be removed; these edges compose the minimum cut, and removing them
separates the source from the sink in separate connected components. <a href="graphs.html#dip-Label-DirectedGraph-CL"><code>dip::Label</code></a>
can identify the two components created by this cut.</p>
<aside class="m-note m-default">
<h4>Literature</h4>
<ul>
<li>Y. Boykov and V. Kolmogorov, &ldquo;An Experimental Comparison of Min-Cut/Max-Flow Algorithms for Energy Minimization in Vision&rdquo;,
  IEEE Transactions on Pattern Analysis and Machine Intelligence 26(9):1124-1137, 2004.</li>
</ul>
</aside>
          </div></section>
                        <section class="m-doc-details" id="dip-Label-Graph-CL"><div>
            <h3>
              <span class="m-doc-wrap-bumper"><a href="dip-LabelMap.html" class="m-doc">dip::LabelMap</a>
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-Label-Graph-CL" class="m-doc-self">dip::<wbr />Label</a>(</span><span class="m-doc-wrap"><a href="dip-Graph.html" class="m-doc">dip::Graph</a> const&amp; graph)</span></span>
            </h3>
            <p>Connected component analysis of a graph.</p>
<p>The output can be used to relabel the image that the graph was constructed from. It maps the graph&rsquo;s vertex
indices to labels, where each connected component in the graph represents a label.</p>
<p>See also <a href="regions.html#dip-Relabel-Image-CL-Image-L-Graph-CL"><code>dip::Relabel</code></a>.</p>
          </div></section>
                        <section class="m-doc-details" id="dip-Label-DirectedGraph-CL"><div>
            <h3>
              <span class="m-doc-wrap-bumper"><a href="dip-LabelMap.html" class="m-doc">dip::LabelMap</a>
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-Label-DirectedGraph-CL" class="m-doc-self">dip::<wbr />Label</a>(</span><span class="m-doc-wrap"><a href="dip-DirectedGraph.html" class="m-doc">dip::DirectedGraph</a> const&amp; graph)</span></span>
            </h3>
            <p>Connected component analysis of a graph.</p>
<p>The output can be used to relabel the image that the graph was constructed from. It maps the graph&rsquo;s vertex
indices to labels, where each connected component in the graph represents a label.</p>
<p>See also <a href="regions.html#dip-Relabel-Image-CL-Image-L-DirectedGraph-CL"><code>dip::Relabel</code></a>.</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form action="https://diplib.org/diplib-docs/#search">
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript. Enable it or <a href="https://google.com/search?q=site:diplib.org+">use an external search engine</a>.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or modules.
              You can omit any prefix from the symbol or file path; adding a <code>:</code> or
              <code>/</code> suffix lists all members of given symbol or directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span> / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
              <span class="m-label m-dim">Enter</span> to go.
              <span class="m-label m-dim">Tab</span> autocompletes common prefix.
              You can copy a link to the result using <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">L</span>,
              or <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">M</span> to copy a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.<br />Maybe try a full-text <a href="#" id="search-external" data-search-engine="https://google.com/search?q=site:diplib.org+{query}">search with external engine</a>?</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>DIPlib, a library for quantitative image analysis. Documentation compiled with <a href="https://crisluengo.github.io/doxpp/">dox++</a> and styled with <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>