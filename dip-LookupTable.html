<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>dip::LookupTable class | DIPlib | a library for quantitative image analysis</title>
  <link rel="stylesheet" href="m-dip+documentation.compiled.css" />
  <link rel="icon" href="DIP_logo_32.png" type="image/png" />
  <link rel="search" type="application/opensearchdescription+xml" href="opensearch.xml" title="Search DIPlib documentation" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <span id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">
        <a href="https://diplib.org">DIPlib</a><span class="m-breadcrumb">â”ƒ</span><a href="index.html" class="m-thin">a library for quantitative image analysis</a>      </span>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="classes.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <div class="m-doc-include m-right-m m-text-right">
<span class="m-thin"><a href="mapping.html" class="m-doc">Grey-value mapping</a> module</span><br/><span class="m-code m-inverted"><span class="cp">#include</span> <a class="cpf" href="file--diplib--lookup_table-h.html">"diplib/lookup_table.h"</a></span>          </div>

          <span class="m-breadcrumb"><a href="dip.html">dip</a>::<wbr/></span>LookupTable <span class="m-thin">class</span>        </h1>
        <p>Encapsulates the concept of the look-up table (LUT).</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#typeless-methods">Constructors, destructors, assignment and conversion operators</a></li>
                <li><a href="#function-members">Functions</a></li>
              </ul>
            </li>
          </ul>
        </div>
<p>The <code>Apply</code> method takes a real, scalar input image and applies the LUT to it, yielding an output that
depends on the characteristics of the LUT, as described below.</p>
<p>If <code>HasIndex</code> is true, the value of each input pixel is looked up in the index, using interpolation,
yielding a location in the LUT. Again using interpolation, the corresponding LUT values are written
to the output image.</p>
<p>If <code>HasIndex</code> is false, the value of each input pixel is directly interpreted as a location in the LUT.
For a floating-point input image, interpolation is used to find the corresponding LUT value. For an
integer-valued input image, the pixel value is directly considered the index into the LUT (as interpolation
makes no sense here). Note that the first LUT value is at index 0.</p>
<p>The LUT can contain tensor values, yielding a tensor output image. This is useful to produce e.g. an
RGB image from an index representation, as used in GIF files and some TIFF files. It is also useful,
for example, to create a color representation from a labeled image.</p>
<p>The output image will have the data type of the LUT.</p>
<aside class="m-note m-default">
<h4>Out-of-bounds handling</h4>
<p>When an input value is outside the bounds provided by the index, it is clamped to the index range.
This behavior can be modified using the <code>SetOutOfBoundsValue</code> method (uses the given value or values for all
pixels that are out of bounds), or  the <code>KeepInputValueOnOutOfBounds</code> method (which sets the output
value to the original input value). The <code>ClampOutOfBoundsValues</code> method returns behavior to the
default.</p>
</aside>
<p>Note that for binary images, the function <a href="math_comparison.html#dip-Select-dip-Image-CL-dip-Image-CL-dip-Image-CL-dip-Image-L"><code>dip::Select( Image const&amp;, Image const&amp;, Image const&amp;, Image&amp; )</code></a>
is available for a similar result.</p>
        <section id="typeless-methods">
            <h2>Constructors, destructors, assignment and conversion operators</h2>
            <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#dip-LookupTable-LookupTable-dip-Image--dip-FloatArray-" class="m-doc">LookupTable</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> values,
              <a href="supporttypes.html#dip-FloatArray" class="m-doc">dip::FloatArray</a> index = {}) <span class="m-label m-flat m-info">explicit</span> </span>
            </dt>
            <dd>The look-up table values are provided through an image. Optionally, provide the index.</dd>
            </dl>
        </section>
        <section id="function-members">
          <h2>Functions</h2>
          <dl class="m-doc">
            <dt id="dip-LookupTable-HasIndex-C">
              <span class="m-doc-wrap-bumper">auto <a href="#dip-LookupTable-HasIndex-C" class="m-doc-self">HasIndex</a>(</span><span class="m-doc-wrap">) const -&gt; bool</span>
            </dt>
            <dd>True if the LUT has an index.</dd>
            <dt id="dip-LookupTable-DataType-C">
              <span class="m-doc-wrap-bumper">auto <a href="#dip-LookupTable-DataType-C" class="m-doc-self">DataType</a>(</span><span class="m-doc-wrap">) const -&gt; <a href="dip-DataType.html" class="m-doc">dip::DataType</a></span>
            </dt>
            <dd>Returns the data type of the LUT, which will also be the data type of the result of applying the LUT.</dd>
            <dt id="dip-LookupTable-SetOutOfBoundsValue-dip-dfloat-">
              <span class="m-doc-wrap-bumper">void <a href="#dip-LookupTable-SetOutOfBoundsValue-dip-dfloat-" class="m-doc-self">SetOutOfBoundsValue</a>(</span><span class="m-doc-wrap"><a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> value)</span>
            </dt>
            <dd>Sets out-of-bounds behavior to using <code>value</code>.</dd>
            <dt id="dip-LookupTable-SetOutOfBoundsValue-dip-dfloat--dip-dfloat-">
              <span class="m-doc-wrap-bumper">void <a href="#dip-LookupTable-SetOutOfBoundsValue-dip-dfloat--dip-dfloat-" class="m-doc-self">SetOutOfBoundsValue</a>(</span><span class="m-doc-wrap"><a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> lowerValue,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> upperValue)</span>
            </dt>
            <dd>Sets out-of-bounds behavior to using <code>lowerValue</code> and <code>upperValue</code>.</dd>
            <dt id="dip-LookupTable-KeepInputValueOnOutOfBounds">
              <span class="m-doc-wrap-bumper">void <a href="#dip-LookupTable-KeepInputValueOnOutOfBounds" class="m-doc-self">KeepInputValueOnOutOfBounds</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd>Sets out-of-bounds behavior to using the input value.</dd>
            <dt id="dip-LookupTable-ClampOutOfBoundsValues">
              <span class="m-doc-wrap-bumper">void <a href="#dip-LookupTable-ClampOutOfBoundsValues" class="m-doc-self">ClampOutOfBoundsValues</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd>Returns out-of-bounds behavior to the default.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-LookupTable-Apply-dip-Image-CL-dip-Image-L-dip-String-CL-C" class="m-doc">Apply</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> const&amp; interpolation) const</span>
            </dt>
            <dd>Apply the LUT to a scalar, real-valued image.</dd>
            <dt id="dip-LookupTable-Apply-dip-dfloat--dip-String-CL-C">
              <span class="m-doc-wrap-bumper">auto <a href="#dip-LookupTable-Apply-dip-dfloat--dip-String-CL-C" class="m-doc-self">Apply</a>(</span><span class="m-doc-wrap"><a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> value,
              <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> const&amp; interpolation) const -&gt; <a href="dip-Image-Pixel.html" class="m-doc">Image::Pixel</a></span>
            </dt>
            <dd>Apply the LUT to a scalar value.</dd>
            <dt id="dip-LookupTable-Convert-dip-DataType-">
              <span class="m-doc-wrap-bumper">void <a href="#dip-LookupTable-Convert-dip-DataType-" class="m-doc-self">Convert</a>(</span><span class="m-doc-wrap"><a href="dip-DataType.html" class="m-doc">dip::DataType</a> dataType)</span>
            </dt>
            <dd>Converts the LUT to a different data type. Values are clipped to the target range and/or truncated,
as applicable. Complex values are converted to non-complex values by taking the absolute value.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="dip-LookupTable-LookupTable-dip-Image--dip-FloatArray-"><div>
            <h3>
              <span class="m-doc-wrap-bumper">
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-LookupTable-LookupTable-dip-Image--dip-FloatArray-" class="m-doc-self">LookupTable</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> values,
              <a href="supporttypes.html#dip-FloatArray" class="m-doc">dip::FloatArray</a> index = {}) <span class="m-label m-info">explicit</span></span></span>
            </h3>
            <p>The look-up table values are provided through an image. Optionally, provide the index.</p>
<p><code>values</code> must be 1D, but otherwise can be of any data type and have any number of tensor elements.
The result of applying the LUT will be an image with the same data type and number of tensor
elements as <code>values</code>.</p>
<p>If <code>index</code> is given, it must have the same number of elements as pixels are in <code>values</code>, and it
must be sorted small to large. No check is done on the sort order of <code>index</code>. If <code>index</code> is given,
<code>HasIndex</code> will be true.</p>
          </div></section>
          <section class="m-doc-details" id="dip-LookupTable-Apply-dip-Image-CL-dip-Image-L-dip-String-CL-C"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-LookupTable-Apply-dip-Image-CL-dip-Image-L-dip-String-CL-C" class="m-doc-self">Apply</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> const&amp; interpolation) const</span></span>
            </h3>
            <p>Apply the LUT to a scalar, real-valued image.</p>
<p>See the description for <a href="dip-LookupTable.html"><code>dip::LookupTable</code></a> for how this function works. <code>interpolation</code> can be one of:</p>
<ul>
<li><code>"linear"</code>: the default, uses linear interpolation.</li>
<li><code>"nearest"</code>: uses nearest neighbor interpolation (i.e. rounds the input value to the nearest index).</li>
<li><code>"zero order"</code>: uses zero order hold interpolation (i.e. uses the <code>floor</code> of the input value).</li>
</ul>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form action="https://diplib.org/diplib-docs/#search">
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript. Enable it or <a href="https://google.com/search?q=site:diplib.org+">use an external search engine</a>.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or modules.
              You can omit any prefix from the symbol or file path; adding a <code>:</code> or
              <code>/</code> suffix lists all members of given symbol or directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span> / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
              <span class="m-label m-dim">Enter</span> to go.
              <span class="m-label m-dim">Tab</span> autocompletes common prefix.
              You can copy a link to the result using <span class="m-label m-dim">âŒ˜</span> <span class="m-label m-dim">L</span>,
              or <span class="m-label m-dim">âŒ˜</span> <span class="m-label m-dim">M</span> to copy a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.<br />Maybe try a full-text <a href="#" id="search-external" data-search-engine="https://google.com/search?q=site:diplib.org+{query}">search with external engine</a>?</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>DIPlib, a library for quantitative image analysis. Documentation compiled with <a href="https://crisluengo.github.io/doxpp/">dox++</a> and styled with <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>