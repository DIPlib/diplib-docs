<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Interfaces &raquo; DIPlib-Vigra interface module | DIPlib | a library for quantitative image analysis</title>
  <link rel="stylesheet" href="m-dip+documentation.compiled.css" />
  <link rel="icon" href="DIPlib_logo_32.png" type="image/png" />
  <link rel="search" type="application/opensearchdescription+xml" href="opensearch.xml" title="Search DIPlib documentation" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#ffffff" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <span id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">
        <a href="https://diplib.org"><img src="DIPlib_logo.svg" alt="" />DIPlib</a><span class="m-breadcrumb">┃</span><a href="index.html" class="m-thin">a library for quantitative image analysis</a><span class="m-breadcrumb">┃</span><a href="https://github.com/DIPlib/diplib/releases/tag/3.5.0" class="m-thin">version 3.5.0</a>      </span>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="classes.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="interfaces.html">Interfaces</a> &raquo;</span>
          <em>DIPlib</em>-<em>Vigra</em> interface <span class="m-thin">module</span>          <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="file--dip_vigra_interface-h.html">"dip_vigra_interface.h"</a></div>
        </h1>
        <p>Functions to convert images to and from <em>Vigra</em>.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#namespaces">Namespaces</a></li>
                <li><a href="#function-members">Functions</a></li>
              </ul>
            </li>
          </ul>
        </div>
<p>The <a href="dip_vigra.html"><code>dip_vigra</code></a> namespace defines the functions needed to convert between <em>Vigra</em> <code>vigra::MultiArray</code> and
<code>vigra::MultiArrayView</code> objects and <em>DIPlib</em> <a href="dip-Image.html"><code>dip::Image</code></a> objects.</p>
<p>The function <a href="dip_vigra_interface.html#dip_vigra-VigraToDip-T-vigra-MultiArrayView&lt;Dimensionality, PixelType, StrideTag&gt;-CL"><code>dip_vigra::VigraToDip</code></a> encapsulates (maps) a <em>Vigra</em> image in a <em>DIPlib</em> image;
<a href="dip_vigra_interface.html#dip_vigra-DipToVigra-T-dip-Image-CL"><code>dip_vigra::DipToVigra</code></a> does the opposite, mapping a <em>DIPlib</em> image as a <em>Vigra</em> image.</p>
<p><em>Vigra</em> supports anything as pixel type, but in order for the code written here to be manageable, these types
must be limited. Pixel types are therefore limited to the numeric types supported by <em>DIPlib</em> as well as vectors
of arbitrary length of these numeric types. <em>DIPlib</em> tensor images are mapped to <em>Vigra</em> vector images, but
the tensor shape is lost. Note that the tensor stride must always be 1. Use <a href="dip-Image.html#dip-Image-ForceNormalStrides"><code>dip::Image::ForceNormalStrides</code></a> to
fix the tensor stride for mapping. Alternatively, use <a href="dip_vigra_interface.html#dip_vigra-CopyDipToVigra-T-dip-Image-CL"><code>dip_vigra::CopyDipToVigra</code></a>.</p>
<p><em>Vigra</em> seems to prefer to use the 8-bit unsigned integer type for binary images. These are always converted to
<a href="pixeltypes.html#dip-DT_UINT8"><code>dip::DT_UINT8</code></a> images, as the code here cannot distinguish between binary and non-binary images.
Use <a href="dip-Image.html#dip-Convert-Image-CL-Image-L-dip-DataType-"><code>dip::Convert</code></a> to cast the resulting image to binary.</p>
<p>Because <em>Vigra</em> defines image properties through template parameters (data type and dimensionality), it is
not possible to write a non-templated function that creates a <code>vigra::MultiArray</code> object. Consequently, a
<a href="dip-ExternalInterface.html"><code>dip::ExternalInterface</code></a> would be very limited in usefulness, so we don&rsquo;t define one. The <em>DIPlib-Vigra</em>
interface is therefore less easy to use than, for example, the <a href="dip_opencv_interface.html"><em>DIPlib</em>-<em>OpenCV</em> interface</a>.</p>
        <section id="namespaces">
          <h2>Namespaces</h2>
          <dl class="m-doc">
            <dt>namespace <a href="dip_vigra.html" class="m-doc">dip_vigra</a></dt>
            <dd>The <code>dip_vigra</code> namespace contains the interface between <em>Vigra</em> and <em>DIPlib</em>.</dd>
          </dl>
        </section>
        <section id="function-members">
          <h2>Functions</h2>
          <dl class="m-doc">
            <dt>
              <div class="m-doc-template">template&lt;unsigned int Dimensionality, typename PixelType, typename StrideTag&gt;</div>
              <span class="m-doc-wrap-bumper">auto <a href="#dip_vigra-VigraToDip-T-vigra-MultiArrayView<Dimensionality, PixelType, StrideTag>-CL" class="m-doc">dip_vigra::<wbr />VigraToDip</a>(</span><span class="m-doc-wrap">vigra::MultiArrayView&lt;Dimensionality, PixelType, StrideTag&gt; const&amp; input) -&gt; <a href="dip-Image.html" class="m-doc">dip::Image</a></span>
            </dt>
            <dd>Creates a <em>DIPlib</em> image around a <em>Vigra</em> <code>vigra::MultiArrayView</code>, without taking ownership of the data.</dd>
            <dt>
              <div class="m-doc-template">template&lt;unsigned int Dimensionality, typename PixelType&gt;</div>
              <span class="m-doc-wrap-bumper">auto <a href="#dip_vigra-DipToVigra-T-dip-Image-CL" class="m-doc">dip_vigra::<wbr />DipToVigra</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; img) -&gt; vigra::MultiArrayView&lt;Dimensionality, PixelType, vigra::StridedArrayTag&gt;</span>
            </dt>
            <dd>Creates a <em>Vigra</em> <code>vigra::MultiArrayView</code> object around a <em>DIPlib</em> image, without taking ownership of the data.</dd>
            <dt>
              <div class="m-doc-template">template&lt;unsigned int Dimensionality, typename PixelType&gt;</div>
              <span class="m-doc-wrap-bumper">auto <a href="#dip_vigra-CopyDipToVigra-T-dip-Image-CL" class="m-doc">dip_vigra::<wbr />CopyDipToVigra</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; img) -&gt; vigra::MultiArray&lt;Dimensionality, PixelType&gt;</span>
            </dt>
            <dd>Creates a <em>Vigra</em> <code>vigra::MultiArrayView</code> object from a <em>DIPlib</em> image by copy.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="dip_vigra-VigraToDip-T-vigra-MultiArrayView<Dimensionality, PixelType, StrideTag>-CL"><div>
            <h3>
              <div class="m-doc-template">
                template&lt;unsigned int Dimensionality, typename PixelType, typename StrideTag&gt;
              </div>
              <span class="m-doc-wrap-bumper"><a href="dip-Image.html" class="m-doc">dip::Image</a>
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip_vigra-VigraToDip-T-vigra-MultiArrayView<Dimensionality, PixelType, StrideTag>-CL" class="m-doc-self">dip_vigra::<wbr />VigraToDip</a>(</span><span class="m-doc-wrap">vigra::MultiArrayView&lt;Dimensionality, PixelType, StrideTag&gt; const&amp; input)</span></span>
            </h3>
            <p>Creates a <em>DIPlib</em> image around a <em>Vigra</em> <code>vigra::MultiArrayView</code>, without taking ownership of the data.</p>
<p>This function maps a <code>vigra::MultiArrayView</code> object to a <a href="dip-Image.html"><code>dip::Image</code></a> object.
The <code>dip::Image</code> object will point to the data in the <code>vigra::MultiArrayView</code>, which must continue existing until
the <code>dip::Image</code> is deleted or stripped. The output <code>dip::Image</code> is protected to prevent accidental reforging,
unprotect it using <a href="dip-Image.html#dip-Image-Protect-bool-"><code>dip::Image::Protect</code></a>.</p>
<p>An invalid <code>vigra::MultiArrayView</code> produces a non-forged <a href="dip-Image.html"><code>dip::Image</code></a>.</p>
<p>The template parameters do not need to be explicitly given, as the <code>input</code> object defines them.</p>
          </div></section>
          <section class="m-doc-details" id="dip_vigra-DipToVigra-T-dip-Image-CL"><div>
            <h3>
              <div class="m-doc-template">
                template&lt;unsigned int Dimensionality, typename PixelType&gt;
              </div>
              <span class="m-doc-wrap-bumper">vigra::MultiArrayView&lt;Dimensionality, PixelType, vigra::StridedArrayTag&gt;
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip_vigra-DipToVigra-T-dip-Image-CL" class="m-doc-self">dip_vigra::<wbr />DipToVigra</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; img)</span></span>
            </h3>
            <p>Creates a <em>Vigra</em> <code>vigra::MultiArrayView</code> object around a <em>DIPlib</em> image, without taking ownership of the data.</p>
<p>This function maps a <a href="dip-Image.html"><code>dip::Image</code></a> object to a <code>vigra::MultiArrayView</code> object.
The <code>vigra::MultiArrayView</code> object will point to the data in the <code>dip::Image</code>, which must continue existing until the
<code>vigra::MultiArrayView</code> is deleted.</p>
<p>A non-forged <a href="dip-Image.html"><code>dip::Image</code></a> produces an invalid <code>vigra::MultiArrayView</code>.</p>
<p>Note that it is required to set the two template parameters, and that these template parameters must match the
the <code>dip::Image</code> object at runtime.</p>
          </div></section>
          <section class="m-doc-details" id="dip_vigra-CopyDipToVigra-T-dip-Image-CL"><div>
            <h3>
              <div class="m-doc-template">
                template&lt;unsigned int Dimensionality, typename PixelType&gt;
              </div>
              <span class="m-doc-wrap-bumper">vigra::MultiArray&lt;Dimensionality, PixelType&gt;
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip_vigra-CopyDipToVigra-T-dip-Image-CL" class="m-doc-self">dip_vigra::<wbr />CopyDipToVigra</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; img)</span></span>
            </h3>
            <p>Creates a <em>Vigra</em> <code>vigra::MultiArrayView</code> object from a <em>DIPlib</em> image by copy.</p>
<p>A non-forged <a href="dip-Image.html"><code>dip::Image</code></a> produces an invalid <code>vigra::MultiArrayView</code>.</p>
<p>Use this function if the <a href="dip-Image.html"><code>dip::Image</code></a> cannot be mapped with <a href="dip_vigra_interface.html#dip_vigra-DipToVigra-T-dip-Image-CL"><code>dip_vigra::DipToVigra</code></a>, for example
if the data type doesn&rsquo;t match (or you don&rsquo;t know in advance what data type the <em>DIPlib</em> image
will have) or if the tensor stride is not 1.</p>
<p>Note that it is required to set the two template parameters, and that the <code>Dimensionality</code> must match
the <code>dip::Image</code> object at runtime. If the <code>PixelType</code> doesn&rsquo;t match, the sample values will be converted
in the same way that <a href="dip-Image.html#dip-Image-Copy-Image-CL"><code>dip::Image::Copy</code></a> does.</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form action="https://diplib.org/diplib-docs/#search">
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript. Enable it or <a href="https://google.com/search?q=site:diplib.org+">use an external search engine</a>.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or modules.
              You can omit any prefix from the symbol or file path; adding a <code>:</code> or
              <code>/</code> suffix lists all members of given symbol or directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span> / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
              <span class="m-label m-dim">Enter</span> to go.
              <span class="m-label m-dim">Tab</span> autocompletes common prefix.
              You can copy a link to the result using <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">L</span>,
              or <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">M</span> to copy a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.<br />Maybe try a full-text <a href="#" id="search-external" data-search-engine="https://google.com/search?q=site:diplib.org+{query}">search with external engine</a>?</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>DIPlib, a library for quantitative image analysis. Documentation compiled with <a href="https://crisluengo.github.io/doxpp/">dox++</a> and styled with <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>