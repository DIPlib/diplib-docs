<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DIPimage User Manual &raquo; The dip_measurement Object | DIPlib | a library for quantitative image analysis</title>
  <link rel="stylesheet" href="m-dip+documentation.compiled.css" />
  <link rel="icon" href="DIPlib_logo_32.png" type="image/png" />
  <link rel="search" type="application/opensearchdescription+xml" href="opensearch.xml" title="Search DIPlib documentation" />
  <link rel="prev" href="sec_dum_dip_image.html" />
  <link rel="next" href="sec_dum_figurewindows.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#ffffff" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <span id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">
        <a href="https://diplib.org"><img src="DIPlib_logo.svg" alt="" />DIPlib</a><span class="m-breadcrumb">┃</span><a href="index.html" class="m-thin">a library for quantitative image analysis</a><span class="m-breadcrumb">┃</span><a href="https://github.com/DIPlib/diplib/releases/tag/3.5.0" class="m-thin">version 3.5.0</a>      </span>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="classes.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="dipimage_user_manual.html"><em>DIPimage</em> User Manual</a> &raquo;</span>
          The <code>dip_measurement</code> Object
        </h1>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li><a href="#sec_dum_dip_measurement_extracting">Extracting measurement data</a></li>
            <li><a href="#sec_dum_dip_measurement_other_info">Other information on the <code>dip_measurement</code> object</a></li>
            <li><a href="#sec_dum_dip_measurement_combining">Combining measurement data</a></li>
          </ul>
        </div>
<p>The function <code>measure</code> returns the measurement results in an object of type
<code>dip_measurement</code>. It contains all the measurements done on an image in a
manageable way.</p>
<h2 id="sec_dum_dip_measurement_extracting">Extracting measurement data</h2>
<p>The data in the <code>dip_measurement</code> object can be accessed in a very
simple way, but only for reading, not writing (i.e. data manipulation is
not allowed).</p>
<p>Indexing with parentheses is used to access the measurements belonging
to one or more objects. The index used must match the label ID of the
object in the image, and the returned value is an object of type
<code>dip_measurement</code>.</p>
<p>The dot operator is used to extract the values corresponding to a single
measurement. The array returned is of type <code>double</code>.</p>
<p>For example,</p>
<div class="m-code"><pre><span></span><span class="n">msr</span><span class="p">(</span><span class="mi">11</span><span class="p">:</span><span class="mi">15</span><span class="p">).</span><span class="n">Size</span>
</pre></div>

<p>will return a <code>double</code> array with five elements, being the sizes for
objects number 11 through 15. Note that element 11 doesn&rsquo;t need to be
placed 11th in the list of measurements. If only objects starting at 10
were measured, the above example would be equivalent to</p>
<div class="m-code"><pre><span></span><span class="n">msr</span><span class="p">.</span><span class="n">Size</span><span class="p">(</span><span class="mi">2</span><span class="p">:</span><span class="mi">6</span><span class="p">)</span>
</pre></div>

<p>since <code>msr.Size</code> returns a <code>double</code> array, whose second element would be
the size of object number 11.</p>
<p>The <code>end</code> method will return the last label ID in the object. <code>double</code>
converts the data in the object to a <code>double</code> array, loosing the names
of the measurements and the label IDs.</p>
<p>If you want to handle the measurement results as a data table, use the
<code>table</code> function. The <code>table</code> class was introduced in <em>MATLAB</em> in release
R2013b, and provides a convenient way to work with tabular data.</p>
<h2 id="sec_dum_dip_measurement_other_info">Other information on the <code>dip_measurement</code> object</h2>
<p>Besides extracting the measured data, you might want to gain more
knowledge on the object you are dealing with (e.g. which measurements
were taken and how many of them are there). This section describes
functions used for this purpose.</p>
<p><code>fieldnames</code> returns the names of the measurements (features) present
in the object. <code>isfield</code> tests for a given feature to be present.</p>
<p><code>isempty</code> returns true if there is no data in the object.</p>
<p><code>size</code> returns the number of IDs as the first dimension, and the number
of values per object as the second. Note that the number of values
returned by size does not need to be equal to the number of features
returned by <code>fieldnames</code>. Some measurement features return more than one
value per object. <code>size(msr,'Size')</code> returns the number of values for the
<code>Size</code> feature. <code>size(double(msr))</code> returns the same value as <code>size(msr)</code>.</p>
<p><code>length(msr)</code> is equivalent to <code>size(msr,1)</code>, and returns the number of
objects.</p>
<h2 id="sec_dum_dip_measurement_combining">Combining measurement data</h2>
<p>To join measurements produced by different calls to <code>measure</code>, use the
default <em>MATLAB</em> syntax. Horizontal and vertical concatenations produce
different effects.</p>
<p><code>[A,B]</code> joins two measurement objects with the same label IDs, but
different measurements. If some measurements are repeated, or if the
label IDs don&rsquo;t match, an error is generated.</p>
<p><code>[A;B]</code> joins two measurement objects with the same measurements, on
different label IDs. If some IDs are repeated, or if the measurements
don&rsquo;t match, an error is generated.</p>
<p>In some cases, objects in different images have the same labels. These
need to be changed before concatenation is possible. This is done by the
following syntax:</p>
<div class="m-code"><pre><span></span><span class="n">msr</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">51</span><span class="p">:</span><span class="mi">73</span><span class="p">;</span>
</pre></div>

<p>The length of the array assigned to the IDs must have the same number of
elements as the measurement object.</p>
<p>Similarly, it is possible to measure the same thing on different images
of the same objects. For example, one might measure the average grey
value on all three channels of an RGB image. To join these measurements
into a single object, it is possible to add a prefix to the names of the
measurements:</p>
<div class="m-code"><pre><span></span><span class="n">msr1</span><span class="p">.</span><span class="n">prefix</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;red_&#39;</span><span class="p">;</span>
<span class="n">msr2</span><span class="p">.</span><span class="n">prefix</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;green_&#39;</span><span class="p">;</span>
<span class="n">msr3</span><span class="p">.</span><span class="n">prefix</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;blue_&#39;</span><span class="p">;</span>
<span class="n">msr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="n">msr1</span><span class="p">,</span><span class="n">msr2</span><span class="p">,</span><span class="n">msr3</span><span class="p">];</span>
</pre></div>

<p>Note that this prefix cannot be changed, only added to. For example,</p>
<div class="m-code"><pre><span></span><span class="n">msr</span><span class="p">.</span><span class="n">prefix</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;A&#39;</span><span class="p">;</span>
<span class="n">msr</span><span class="p">.</span><span class="n">prefix</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;B&#39;</span><span class="p">;</span>
</pre></div>

<p>causes the measurements in <code>msr</code> to have names like <code>'BASize'</code>.</p>
<p><code>rmfield</code> removes the values for a given measurement feature from the
<code>dip_measurement</code> object.</p>
        <div class="m-note m-dim m-thin m-text-center"><a href="sec_dum_dip_image.html" class="m-doc">&laquo; The <code>dip_image</code> Object</a> | <a href="dipimage_user_manual.html" class="m-doc"><em>DIPimage</em> User Manual</a> | <a href="sec_dum_figurewindows.html" class="m-doc">Figure Windows &raquo;</a></div>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form action="https://diplib.org/diplib-docs/#search">
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript. Enable it or <a href="https://google.com/search?q=site:diplib.org+">use an external search engine</a>.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or modules.
              You can omit any prefix from the symbol or file path; adding a <code>:</code> or
              <code>/</code> suffix lists all members of given symbol or directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span> / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
              <span class="m-label m-dim">Enter</span> to go.
              <span class="m-label m-dim">Tab</span> autocompletes common prefix.
              You can copy a link to the result using <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">L</span>,
              or <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">M</span> to copy a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.<br />Maybe try a full-text <a href="#" id="search-external" data-search-engine="https://google.com/search?q=site:diplib.org+{query}">search with external engine</a>?</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>DIPlib, a library for quantitative image analysis. Documentation compiled with <a href="https://crisluengo.github.io/doxpp/">dox++</a> and styled with <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>