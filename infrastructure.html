<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>The library infrastructure module | DIPlib | a library for quantitative image analysis</title>
  <link rel="stylesheet" href="m-dip+documentation.compiled.css" />
  <link rel="icon" href="DIP_logo_32.png" type="image/png" />
  <link rel="search" type="application/opensearchdescription+xml" href="opensearch.xml" title="Search DIPlib documentation" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <span id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">
        <a href="https://diplib.org"><img src="DIP_logo.svg" alt="" />DIPlib</a><span class="m-breadcrumb">┃</span><a href="index.html" class="m-thin">a library for quantitative image analysis</a><span class="m-breadcrumb">┃</span><a href="https://github.com/DIPlib/diplib/releases/tag/3.0.0" class="m-thin">version 3.0.0</a>      </span>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="classes.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          The library infrastructure <span class="m-thin">module</span>        </h1>
        <p>The nuts and bolts that make it all work</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#modules">Modules</a></li>
                <li><a href="#namespaces">Namespaces</a></li>
                <li><a href="#nested-classes">Classes</a></li>
                <li><a href="#function-members">Functions</a></li>
                <li><a href="#variable-members">Variables</a></li>
                <li><a href="#macro-members">Macros</a></li>
              </ul>
            </li>
          </ul>
        </div>
        <section id="modules">
          <h2>Modules</h2>
          <dl class="m-doc">
            <dt>module <a href="boundary.html" class="m-doc">Boundary</a></dt>
            <dd>Handling image boundary extension for filtering</dd>
            <dt>module <a href="error.html" class="m-doc">Error management</a></dt>
            <dd>Exception classes and error management functionality</dd>
            <dt>module <a href="frameworks.html" class="m-doc">Frameworks</a></dt>
            <dd>Functions that form the basis of most pixel-based processing in <em>DIPlib</em>.</dd>
            <dt>module <a href="imagetype.html" class="m-doc">Image</a></dt>
            <dd>The <a href="dip-Image.html"><code>dip::Image</code></a> class and types that provide a view into it.</dd>
            <dt>module <a href="iterators.html" class="m-doc">Iterators</a></dt>
            <dd>Objects to iterate over images and image lines in different ways.</dd>
            <dt>module <a href="numeric.html" class="m-doc">Numeric algorithms and constants</a></dt>
            <dd>Functions and constants to be used in numeric computation, unrelated to images.</dd>
            <dt>module <a href="overload.html" class="m-doc">Overloading</a></dt>
            <dd>Help with instantiating function templates and class templates for different pixel data types.</dd>
            <dt>module <a href="physical_dimensions.html" class="m-doc">Physical dimensions</a></dt>
            <dd>Support for units, physical quantities and pixel sizes.</dd>
            <dt>module <a href="pixeltypes.html" class="m-doc">Pixel data types</a></dt>
            <dd>Types used for image samples (pixels), and related support functionality</dd>
            <dt>module <a href="random.html" class="m-doc">Random</a></dt>
            <dd>Pseudo-random generator and probability distributions.</dd>
            <dt>module <a href="supporttypes.html" class="m-doc">Support types</a></dt>
            <dd>Types used for image samples (pixels), and related support functionality</dd>
          </dl>
        </section>
        <section id="namespaces">
          <h2>Namespaces</h2>
          <dl class="m-doc">
            <dt>namespace <a href="dip-Option.html" class="m-doc">dip::<wbr />Option</a></dt>
            <dd>Enumerated options are defined in the namespace <code>dip::Option</code>, unless they
are specific to some other sub-namespace.</dd>
          </dl>
        </section>
        <section id="nested-classes">
          <h2>Classes</h2>
          <dl class="m-doc">
            <dt>
              struct <a href="#dip-LibraryInformation" class="m-doc">dip::<wbr />LibraryInformation</a>
            </dt>
            <dd>Holds information about the <em>DIPlib</em> binary.</dd>
            <dt>
              class <a href="dip-Graph.html" class="m-doc">dip::<wbr />Graph</a>
            </dt>
            <dd>A non-directed, edge-weighted graph.</dd>
            <dt>
              class <a href="dip-LowestCommonAncestorSolver.html" class="m-doc">dip::<wbr />LowestCommonAncestorSolver</a>
            </dt>
            <dd>Solves the lowest common ancestor problem for a tree.</dd>
            <dt>
              class <a href="dip-Kernel.html" class="m-doc">dip::<wbr />Kernel</a>
            </dt>
            <dd>Represents the shape and size of a filtering kernel.</dd>
            <dt>
              class <a href="dip-Metric.html" class="m-doc">dip::<wbr />Metric</a>
            </dt>
            <dd>Represents a metric to be used to create a <a href="dip-NeighborList.html"><code>dip::NeighborList</code></a></dd>
            <dt>
              class <a href="dip-NeighborList.html" class="m-doc">dip::<wbr />NeighborList</a>
            </dt>
            <dd>Defines the neighborhood of a pixel as a set of coordinates, with optionally their distance.</dd>
            <dt>
              class <a href="dip-PixelTableOffsets.html" class="m-doc">dip::<wbr />PixelTableOffsets</a>
            </dt>
            <dd>Represents an arbitrarily-shaped neighborhood (filter support)
in an arbitrary number of dimensions.</dd>
            <dt>
              class <a href="dip-PixelTable.html" class="m-doc">dip::<wbr />PixelTable</a>
            </dt>
            <dd></dd>
            <dt>
              <div class="m-doc-template">template&lt;typename IndexType_, typename ValueType_, typename UnionFunction_&gt;</div>
              class <a href="dip-UnionFind-T.html" class="m-doc">dip::<wbr />UnionFind</a>
            </dt>
            <dd>An STL-like data structure for the union-find algorithm.</dd>
            <dt>
              <div class="m-doc-template">template&lt;typename IndexType_&gt;</div>
              class <a href="dip-SimpleUnionFind-T.html" class="m-doc">dip::<wbr />SimpleUnionFind</a>
            </dt>
            <dd>A simplified version of <a href="dip-UnionFind-T.html"><code>dip::UnionFind</code></a> that doesn&rsquo;t store any information about the regions, only equivalences.</dd>
          </dl>
        </section>
        <section id="function-members">
          <h2>Functions</h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-SetNumberOfThreads-dip-uint-" class="m-doc">dip::<wbr />SetNumberOfThreads</a>(</span><span class="m-doc-wrap"><a href="supporttypes.html#dip-uint" class="m-doc">dip::uint</a> nThreads)</span>
            </dt>
            <dd>Sets the maximum number of threads to be using in computations.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#dip-GetNumberOfThreads" class="m-doc">dip::<wbr />GetNumberOfThreads</a>(</span><span class="m-doc-wrap">) -&gt; <a href="supporttypes.html#dip-uint" class="m-doc">dip::uint</a></span>
            </dt>
            <dd>Gets the maximum number of threads that can be used in computations.</dd>
          </dl>
        </section>
        <section id="variable-members">
          <h2>Variables</h2>
          <dl class="m-doc">
            <dt>
            <a href="infrastructure.html#dip-LibraryInformation" class="m-doc">dip::LibraryInformation</a> const <a href="#dip-libraryInformation" class="m-doc">dip::<wbr />libraryInformation</a>
            </dt>
            <dd>Constant that holds information about the <em>DIPlib</em> binary.</dd>
          </dl>
        </section>
        <section id="macro-members">
          <h2>Macros</h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#macro--DIP_EXPORT" class="m-doc">DIP_EXPORT</a></span>
            </dt>
            <dd>Indicates that the function or class is exported from the shared/dynamic-load library.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#macro--DIP_NO_EXPORT" class="m-doc">DIP_NO_EXPORT</a></span>
            </dt>
            <dd>Indicates that the function or class is not exported from the shared/dynamic-load library.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#macro--DIP_CLASS_EXPORT" class="m-doc">DIP_CLASS_EXPORT</a></span>
            </dt>
            <dd>Specifically for classes in a inheritance hierarchy and that must be passed across the
executable/shared library interface.</dd>
          </dl>
        </section>
        <section>
            <h2>Class documentation</h2>
                      <section class="m-doc-details" id="dip-LibraryInformation"><div>
            <h3>
              struct <a href="#dip-LibraryInformation" class="m-doc-self">dip::<wbr />LibraryInformation</a>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="file--diplib-h.html">"diplib.h"</a></div>
            </h3>
            <p>Holds information about the <em>DIPlib</em> binary.</p>
<p>Information in this structure can be used to display library information
to the user (e.g. in a splash screen). It also contains information that
can be used to determine at run time the properties of the <em>DIPlib</em> library
that the application links to. Refer to <a href="infrastructure.html#dip-libraryInformation"><code>dip::libraryInformation</code></a>.</p>
<p>The string <code>type</code> starts either with &ldquo;Release&rdquo; or &ldquo;Debug&rdquo;, indicating
the whether the library was compiled with optimizations enabled and no
debug information (release) or without optimizations and with debug
information (debug). Next it lists a series of compile-time options,
separated by comma. The options are:</p>
<ul>
<li>&ldquo;with OpenMP&rdquo;: indicates multithreading is built in.</li>
<li>&ldquo;recording stack traces&rdquo;: indicates that exceptions report a stack trace,
  rather than only show the function that threw it.</li>
<li>&ldquo;asserts enabled&rdquo;: indicates additional run-time tests for consistency
  are executed.</li>
<li>&ldquo;Unicode support&rdquo;: indicates e.g. units are output using Unicode.</li>
<li>&ldquo;ICS support&rdquo;: indicates ICS file reading and writing is available.</li>
<li>&ldquo;TIFF support&rdquo;: indicates TIFF file reading and writing is available.</li>
<li>&ldquo;JPEG support&rdquo;: indicates JPEG file reading and writing is available.</li>
</ul>
            <table class="m-table m-fullwidth m-first-tight m-flat m-doc">
              <thead><tr><th>Variables</th><th></th></tr></thead>
              <tbody>
                <tr>
                  <td>
                  <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> <a href="#dip-LibraryInformation-name" class="m-doc-self" id="dip-LibraryInformation-name">name</a>                  </td>
                  <td>
                  The library name
                  </td>
                </tr>
                <tr>
                  <td>
                  <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> <a href="#dip-LibraryInformation-description" class="m-doc-self" id="dip-LibraryInformation-description">description</a>                  </td>
                  <td>
                  A short description string
                  </td>
                </tr>
                <tr>
                  <td>
                  <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> <a href="#dip-LibraryInformation-copyright" class="m-doc-self" id="dip-LibraryInformation-copyright">copyright</a>                  </td>
                  <td>
                  Copyright string for the library
                  </td>
                </tr>
                <tr>
                  <td>
                  <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> <a href="#dip-LibraryInformation-URL" class="m-doc-self" id="dip-LibraryInformation-URL">URL</a>                  </td>
                  <td>
                  Library website, with contact information etc.
                  </td>
                </tr>
                <tr>
                  <td>
                  <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> <a href="#dip-LibraryInformation-version" class="m-doc-self" id="dip-LibraryInformation-version">version</a>                  </td>
                  <td>
                  The library version number
                  </td>
                </tr>
                <tr>
                  <td>
                  <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> <a href="#dip-LibraryInformation-date" class="m-doc-self" id="dip-LibraryInformation-date">date</a>                  </td>
                  <td>
                  Compilation date
                  </td>
                </tr>
                <tr>
                  <td>
                  <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> <a href="#dip-LibraryInformation-type" class="m-doc-self" id="dip-LibraryInformation-type">type</a>                  </td>
                  <td>
                  Describes options enabled during compilation
                  </td>
                </tr>
              </tbody>
            </table>
          </div></section>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="dip-SetNumberOfThreads-dip-uint-"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-SetNumberOfThreads-dip-uint-" class="m-doc-self">dip::<wbr />SetNumberOfThreads</a>(</span><span class="m-doc-wrap"><a href="supporttypes.html#dip-uint" class="m-doc">dip::uint</a> nThreads)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="file--diplib--multithreading-h.html">"diplib/multithreading.h"</a></div>
            </h3>
            <p>Sets the maximum number of threads to be using in computations.</p>
<p>The default maximum number of threads is given by the <code>OMP_NUM_THREADS</code> environment variable if set, or the
number of CPU cores otherwise.</p>
<p>Note that parallelized algorithms only spawn multiple threads for the computation if the amount of work
to be done is large enough to compensate for the overhead of spawning threads.</p>
<p>If <code>nThreads</code> is 1, disables multithreading within <em>DIPlib</em>. Usually it is more beneficial to manage multithreading
at a higher level, for example by processing multiple images at the same time. If yo do so, set <code>nThreads</code> to 1.</p>
<p>If <code>nThreads</code> is 0, resets the maximum number of threads to the default value.</p>
<p>If <em>DIPlib</em> was compiled without <em>OpenMP</em> support, this function does nothing.</p>
          </div></section>
          <section class="m-doc-details" id="dip-GetNumberOfThreads"><div>
            <h3>
              <span class="m-doc-wrap-bumper"><a href="supporttypes.html#dip-uint" class="m-doc">dip::uint</a>
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-GetNumberOfThreads" class="m-doc-self">dip::<wbr />GetNumberOfThreads</a>(</span><span class="m-doc-wrap">)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="file--diplib--multithreading-h.html">"diplib/multithreading.h"</a></div>
            </h3>
            <p>Gets the maximum number of threads that can be used in computations.</p>
<p>Returns the value given in the last call to <a href="infrastructure.html#dip-SetNumberOfThreads-dip-uint-"><code>dip::SetNumberOfThreads</code></a>, or the default maximum value if that
function was never called.</p>
<p>If <em>DIPlib</em> was compiled without <em>OpenMP</em> support, this function always returns 1.</p>
          </div></section>
        </section>
        <section>
          <h2>Variable documentation</h2>
          <section class="m-doc-details" id="dip-libraryInformation"><div>
            <h3>
              <a href="infrastructure.html#dip-LibraryInformation" class="m-doc">dip::LibraryInformation</a> const <a href="#dip-libraryInformation" class="m-doc-self">dip::<wbr />libraryInformation</a>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="file--diplib-h.html">"diplib.h"</a></div>
            </h3>
            <p>Constant that holds information about the <em>DIPlib</em> binary.</p>
          </div></section>
        </section>
        <section>
          <h2>Macro documentation</h2>
          <section class="m-doc-details" id="macro--DIP_EXPORT"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#macro--DIP_EXPORT" class="m-doc-self">DIP_EXPORT</a></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="file--diplib-h.html">"diplib.h"</a></div>
            </h3>
            <p>Indicates that the function or class is exported from the shared/dynamic-load library.</p>
          </div></section>
          <section class="m-doc-details" id="macro--DIP_NO_EXPORT"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#macro--DIP_NO_EXPORT" class="m-doc-self">DIP_NO_EXPORT</a></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="file--diplib-h.html">"diplib.h"</a></div>
            </h3>
            <p>Indicates that the function or class is not exported from the shared/dynamic-load library.</p>
          </div></section>
          <section class="m-doc-details" id="macro--DIP_CLASS_EXPORT"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#macro--DIP_CLASS_EXPORT" class="m-doc-self">DIP_CLASS_EXPORT</a></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="file--diplib-h.html">"diplib.h"</a></div>
            </h3>
            <p>Specifically for classes in a inheritance hierarchy and that must be passed across the
executable/shared library interface.</p>
<p>Equal to <code>DIP_NO_EXPORT</code> on Windows and <code>DIP_EXPORT</code> elsewhere.</p>
<p>On Linux and other Unix-like systems, classes in a hierarchy, as well as classes thrown as
exceptions, must be exported from the shared library if they are to be used across the interface
between the library and whatever is using the library. This is the only way that the run-time
linker is able to merge the virtual function tables, and identify the type of the thrown object.</p>
<p>However, on Windows, trying to export a class derived from a class in the standard library (such
as <code>std::exception</code>), or trying to export a class that contains members of a non-exported class
(such as a <a href="supporttypes.html#dip-String"><code>dip::String</code></a>, a.k.a. <code>std::string</code>), causes compiler warnings. It seems that currently
it is considered best practice to not export such classes. The Windows run-time linker always
maps local classes to those in the shared library, even when they are not exported.</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form action="https://diplib.org/diplib-docs/#search">
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript. Enable it or <a href="https://google.com/search?q=site:diplib.org+">use an external search engine</a>.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or modules.
              You can omit any prefix from the symbol or file path; adding a <code>:</code> or
              <code>/</code> suffix lists all members of given symbol or directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span> / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
              <span class="m-label m-dim">Enter</span> to go.
              <span class="m-label m-dim">Tab</span> autocompletes common prefix.
              You can copy a link to the result using <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">L</span>,
              or <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">M</span> to copy a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.<br />Maybe try a full-text <a href="#" id="search-external" data-search-engine="https://google.com/search?q=site:diplib.org+{query}">search with external engine</a>?</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>DIPlib, a library for quantitative image analysis. Documentation compiled with <a href="https://crisluengo.github.io/doxpp/">dox++</a> and styled with <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>