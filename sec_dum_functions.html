<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DIPimage User Manual &raquo; Toolbox Functions | DIPlib | a library for quantitative image analysis</title>
  <link rel="stylesheet" href="m-dip+documentation.compiled.css" />
  <link rel="icon" href="DIPlib_logo_32.png" type="image/png" />
  <link rel="search" type="application/opensearchdescription+xml" href="opensearch.xml" title="Search DIPlib documentation" />
  <link rel="prev" href="sec_dum_figurewindows.html" />
  <link rel="next" href="sec_dum_customizing.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#ffffff" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <span id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">
        <a href="https://diplib.org"><img src="DIPlib_logo.svg" alt="" />DIPlib</a><span class="m-breadcrumb">┃</span><a href="index.html" class="m-thin">a library for quantitative image analysis</a><span class="m-breadcrumb">┃</span><a href="https://github.com/DIPlib/diplib/releases/tag/3.2.0" class="m-thin">version 3.2.0</a>      </span>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="classes.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="dipimage_user_manual.html"><em>DIPimage</em> User Manual</a> &raquo;</span>
          Toolbox Functions
        </h1>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li><a href="#sec_dum_functions_dipimage">The GUI: <code>dipimage</code></a></li>
            <li><a href="#sec_dum_functions_dipshow">The <code>dipshow</code> function</a></li>
            <li><a href="#sec_dum_functions_dipmapping">Figure window support: <code>dipmapping</code></a></li>
            <li><a href="#sec_dum_functions_diptruesize">Figure window support: <code>diptruesize</code></a></li>
            <li><a href="#sec_dum_functions_diptest">Figure window support: <code>diptest</code>, <code>dipzoom</code>, et al.</a></li>
            <li><a href="#sec_dum_functions_dipfig">Creating, linking and clearing figure windows: <code>dipfig</code> and <code>dipclf</code></a></li>
            <li><a href="#sec_dum_functions_dippref">Toolbox preferences: <code>dipsetpref</code> and <code>dipgetpref</code></a></li>
            <li><a href="#sec_dum_functions_dipcrop">Interactive tools: <code>dipgetcoords</code>, <code>diproi</code>, et al.</a></li>
            <li><a href="#sec_dum_functions_improc">Image processing functions</a></li>
          </ul>
        </div>
<h2 id="sec_dum_functions_dipimage">The GUI: <code>dipimage</code></h2>
<p>The GUI is started with the <code>dipimage</code> command. It contains menus with
the basic image-processing functions in the toolbox. After choosing
any of these menu items, the GUI window transforms itself into a dialog
box so that you can enter the appropriate parameters. The controls that
allow entering images have a context-menu (obtained by right-clicking in
them) with the names of the images currently defined. It is possible to
enter the name of a variable containing an image or any valid <em>MATLAB</em>
statement that evaluates to image data. (The same is true for other
objects, like measurements or data-sets. Also, the window selection
control, which is a drop-down list, can be updated through its
context-menu.) Pressing the &ldquo;Execute&rdquo; button causes the function to be
called. There is also a button to get help on the particular function.</p>
<p>In the &ldquo;File I/O&rdquo; menu is an option &ldquo;Record macro&rdquo;. When selected, the
user is asked for the name under which the macro will be recorded. The
extension will be &ldquo;.m&rdquo;, indicating it is an M-file. <em>MATLAB</em> scripts are
M-files, and can be executed by typing their name on the command line.
After entering the name (let&rsquo;s assume we use the default &ldquo;macro.m&rdquo;),
this file will be created (or appended to if it already exists), and
loaded in the editor.</p>
<aside class="m-note m-info">
<p><em>MATLAB</em> will ask if it is OK to overwrite the file, don&rsquo;t worry,
the file will not be overwritten but appended to.</p>
</aside>
<p>Any commands executed through the <em>DIPimage</em> GUI
will be written to this file, in the same manner as that they are echoed
to the command line. When finished, select the same menu item again (its
text will have changed to &ldquo;Stop recording macro&rdquo;). Typing the macro name
on the command line:</p>
<div class="m-code"><pre><span></span><span class="n">macro</span><span class="w"></span>
</pre></div>

<p>will execute all recorded commands again. It is possible to append
commands to a recorded macro by starting the recording again with the
same macro name. It is also possible to edit the macro in the editor.
However, if you edit the macro file while recording, do remember to save
your changes before executing another command through the GUI.</p>
<h2 id="sec_dum_functions_dipshow">The <code>dipshow</code> function</h2>
<p><code>dipshow</code> shows a <code>dip_image</code> object in a figure window. It is the function
that is called when leaving the semicolon off at the end of a <em>MATLAB</em>
statement that returns a <code>dip_image</code> object (see <a href="sec_dum_dip_image.html#sec_dum_dip_image_displaying">Displaying <code>dip_image</code> objects</a>).
An optional second argument indicates the
display range required, and allows more flexibility than the options in
the &ldquo;Display&rdquo; menu. The general form for <code>dipshow</code> is:</p>
<div class="m-code"><pre><span></span><span class="n">dipshow</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">range</span><span class="p">,</span><span class="n">colmap</span><span class="p">)</span><span class="w"></span>
</pre></div>

<p>where <code>range</code> is either a grey-value range that should be displayed, or
one of <code>'log'</code> or <code>'base'</code>. A range is a numeric array with two values:
a lower and an upper limit. The pixels with the same or a lower value
than the lower limit will be mapped to black. The pixels that are equal
or larger than the upper limit will be mapped to white. All other values
are linearly spaced in between. The strings <code>'lin'</code> and <code>'all'</code> and the
empty array are a shortcut for <code>[min(image),max(image)]</code>, and cause the
image to be stretched linearly. The string <code>'percentile'</code> is a shortcut
for <code>[percentile(image,5) percentile(image,95)]</code>, and <code>'angle'</code> and
<code>'orientation'</code> are equivalent to <code>[-pi,pi]</code> and <code>[-pi,pi]/2</code>
respectively. The default range is <code>[0,255]</code>, which is used unless a
range is given explicitly. <code>colmap</code> is a colormap. It can either be
<code>'grey'</code>, <code>'periodic'</code>, <code>'labels'</code> or an array with 3 columns such as
those returned by the <em>MATLAB</em> functions <code>hsv</code>, <code>cool</code>, <code>summer</code>, etc.
(see the help on <code>colormap</code> for more information on this).</p>
<p>The strings <code>'angle'</code> and <code>'orientation'</code> imply <code>'periodic'</code> if no
explicit colormap is given. This colormap maps both the maximum and
minimum value to the same color, so as to hide a jump in angle or
orientation fields. The string <code>'labels'</code> implies a range of <code>[0,255]</code>,
and produces a colormap that gives each integer value a distinct color.</p>
<p>The string <code>'log'</code> causes the image to be stretched logarithmically.
<code>'base'</code> is a linear stretch that fixes the value 0 to a 50% grey value.</p>
<p>Examples:</p>
<div class="m-code"><pre><span></span><span class="n">dipshow</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="s">&#39;lin&#39;</span><span class="p">,</span><span class="nb">summer</span><span class="p">(</span><span class="mi">256</span><span class="p">))</span><span class="w"></span>
<span class="n">dipshow</span><span class="p">(</span><span class="n">a</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">180</span><span class="p">],</span><span class="s">&#39;periodic&#39;</span><span class="p">)</span><span class="w"></span>
</pre></div>

<p>If the input argument is a color image, it will be converted to RGB for
display.</p>
<p>The image is displayed in a figure window according to the name of the
variable that contains the image. Links can be made using the <code>dipfig</code>
function (see <a href="sec_dum_functions.html#sec_dum_functions_dipfig">Creating, linking and clearing figure windows: <code>dipfig</code> and <code>dipclf</code></a>). If the variable name is not
registered, a new figure window is opened for the image. To overrule
this behavior, it is possible to specify a figure handle in the
parameter list of <code>dipshow</code>:</p>
<div class="m-code"><pre><span></span><span class="n">dipshow</span><span class="p">(</span><span class="nb">handle</span><span class="p">,</span><span class="nb">image</span><span class="p">,</span><span class="s">&#39;lin&#39;</span><span class="p">)</span><span class="w"></span>
</pre></div>

<p>Finally, an optional argument allows you to overrule the default setting
for the <code>'TrueSize'</code> option. By adding the string <code>'truesize'</code> at the
end of the parameter list for <code>dipshow</code>, you can make sure that
<code>diptruesize</code> is actually called. The string <code>'notruesize'</code> does the
reverse.</p>
<p>See <a href="sec_dum_figurewindows.html">Figure Windows</a> for more information on the figure
windows used by <code>dipshow</code>.</p>
<h2 id="sec_dum_functions_dipmapping">Figure window support: <code>dipmapping</code></h2>
<p>The function <code>dipmapping</code> can be used to change the image-to-display
mapping. All menu items under the &ldquo;Mappings&rdquo; menu are equivalent to a
call to <code>dipmapping</code>. In a single command, you can combine one setting
for each of the four categories: range, colormap, complex-to-real
mapping, the slicing direction and the global stretching for 3D images.</p>
<div class="m-code"><pre><span></span><span class="n">dipmapping</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="n">range</span><span class="p">,</span><span class="n">colmap</span><span class="p">,</span><span class="n">torealstr</span><span class="p">,</span><span class="n">slicingstr</span><span class="p">,</span><span class="n">globalstr</span><span class="p">)</span><span class="w"></span>
</pre></div>

<p>changes the mapping settings for the image in the figure window with
handle <code>h</code>. It is not necessary to provide all four values, and their
order is irrelevant. <code>range</code> can be any value as described for <code>dipshow</code>
in <a href="sec_dum_functions.html#sec_dum_functions_dipshow">The <code>dipshow</code> function</a>: a two-value numeric array or a string.
<code>colmap</code> can contain any of the strings described for <code>dipshow</code>, but not
a colormap. To specify a custom colormap, use</p>
<div class="m-code"><pre><span></span><span class="n">dipmapping</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="s">&#39;colormap&#39;</span><span class="p">,</span><span class="nb">summer</span><span class="p">(</span><span class="mi">256</span><span class="p">))</span><span class="w"></span>
</pre></div>

<p><code>torealstr</code> can be one of <code>'abs'</code>, <code>'real'</code>, <code>'imag'</code> or <code>'phase'</code>.</p>
<p><code>slicingstr</code> can be one of <code>'xy'</code>, <code>'xz'</code>, <code>'yz'</code>, <code>'xt'</code>, <code>'yt'</code> or <code>'zt'</code>.</p>
<p><code>globalstr</code> can be one of <code>'global'</code> or <code>'nonglobal'</code>.</p>
<p>If you don&rsquo;t specify a figure handle, the current figure will be used.</p>
<p>Additionally, you can specify a slice number. This is accomplished by
adding two parameters: the string <code>'slice'</code>, and the slice number. These
must be together and in that order, but otherwise can be combined in any
way with any of the other parameters. The same is true for the
<code>'colormap'</code> parameter.</p>
<p>Note that this function applies only to figure windows created by <code>dipshow</code>.</p>
<h2 id="sec_dum_functions_diptruesize">Figure window support: <code>diptruesize</code></h2>
<p>The &ldquo;Sizes&rdquo; menu contains some options to call <code>diptruesize</code> (see
<a href="sec_dum_figurewindows.html#sec_dum_figurewindows_menus">The figure window menus</a>). This function causes an image to be
displayed with an aspect ratio of 1:1, each pixel occupying one screen
pixel. An argument gives the zoom factor. For example, <code>200</code> would make
the image twice as large on the screen, but with the 1-to-1 aspect
ratio:</p>
<div class="m-code"><pre><span></span><span class="n">diptruesize</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span><span class="w"></span>
</pre></div>

<p><code>diptruesize('off')</code> causes the image to fill the figure window,
possibly loosing the aspect ratio. <code>diptruesize</code> accepts a figure handle
as an optional first argument. If you provide a handle, you must also
provide a zoom factor. See <code>help diptruesize</code> for other options not
available through the figure window menu.</p>
<p>Note that this function applies only to figure windows created by <code>dipshow</code>.</p>
<h2 id="sec_dum_functions_diptest">Figure window support: <code>diptest</code>, <code>dipzoom</code>, et al.</h2>
<p>As explained in <a href="sec_dum_figurewindows.html#sec_dum_figurewindows_menus">The figure window menus</a>, the the &ldquo;Actions&rdquo; menu contains
items corresponding to the commands <code>diptest</code>, <code>dipzoom</code>, <code>diplooking</code>,
<code>dippan</code>, <code>diplink</code>, <code>dipstep</code>, <code>dipanimate</code>, and <code>dipisosurface</code>.
See the help for each of these functions (using the <code>help</code> command)
to learn more about them.</p>
<p>Note that these functions apply only to figure windows created by <code>dipshow</code>.</p>
<h2 id="sec_dum_functions_dipfig">Creating, linking and clearing figure windows: <code>dipfig</code> and <code>dipclf</code></h2>
<p>The single most important thing that can be customized in the <em>DIPimage</em>
environment is the way that images are displayed to figure windows. It
is possible to link a variable name with a figure handle, such that that
variable is always displayed in that same window. If a variable is not
linked to any window, a new one will be opened to display it. The
command</p>
<div class="m-code"><pre><span></span><span class="n">dipfig</span><span class="w"> </span><span class="s">a</span><span class="w"></span>
</pre></div>

<p>opens a new figure window and links it to the variable named <code>a</code>.
Whenever that variable (if it contains an image) is displayed, it will
be send to that window. If the window is closed, it will be opened again
to display the variable. It is possible to link more than one variable
to the same window, like in the next example (which uses the functional
form):</p>
<div class="m-code"><pre><span></span><span class="n">h</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">dipfig</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span><span class="w"></span>
<span class="n">dipfig</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">)</span><span class="w"></span>
</pre></div>

<p>Finally, there is a special variable name, <code>'other'</code>, that creates a
link for all variables not explicitly linked to a window. It is possible
to have many windows linked to this special name, and they will be used
alternately. Creating a window for <code>'other'</code> avoids the opening of new
windows for &lsquo;unregistered&rsquo; variables.</p>
<p>To remove the links, type</p>
<div class="m-code"><pre><span></span><span class="n">dipfig</span><span class="w"> </span><span class="o">-</span><span class="n">unlink</span><span class="w"></span>
</pre></div>

<p>Unlinking only a specific variable is not implemented.</p>
<p>To clear all figure windows (for example at the beginning of a demo),
use the function <code>dipclf</code>. It doesn&rsquo;t change the position or size of any
window, but removes the images in them. <code>dipclf</code> can also be used to
clear selected windows by giving it an array with handles or a <code>cell</code>
array with names as an argument (in a <code>cell</code> array you can actually
combine numeric handles and variable names).</p>
<p>Note that these functions apply only to figure windows created by <code>dipshow</code>.</p>
<h2 id="sec_dum_functions_dippref">Toolbox preferences: <code>dipsetpref</code> and <code>dipgetpref</code></h2>
<p>All toolbox preferences are stored in memory, and are only accessible
through the <code>dipsetpref</code> and <code>dipgetpref</code> functions. They are listed in
<a href="sec_dum_customizing.html#sec_dum_customizing_dippref">Other settings</a>.</p>
<div class="m-code"><pre><span></span><span class="n">v</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">dipgetpref</span><span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">);</span><span class="w"></span>
</pre></div>

<p>retrieves the value of the named preference. Two special forms print all
current preferences and all factory settings to the command window:</p>
<div class="m-code"><pre><span></span><span class="n">dipgetpref</span><span class="w"></span>
<span class="n">dipgetpref</span><span class="w"> </span><span class="s">factory</span><span class="w"></span>
</pre></div>

<p>Setting a preference is similar:</p>
<div class="m-code"><pre><span></span><span class="n">dipsetpref</span><span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">,</span><span class="n">value</span><span class="p">)</span><span class="w"></span>
</pre></div>

<p>Furthermore, it is possible to set many preferences at once:</p>
<div class="m-code"><pre><span></span><span class="n">dipsetpref</span><span class="p">(</span><span class="s">&#39;name1&#39;</span><span class="p">,</span><span class="n">value1</span><span class="p">,</span><span class="s">&#39;name2&#39;</span><span class="p">,</span><span class="n">value2</span><span class="p">,</span><span class="s">&#39;name3&#39;</span><span class="p">,</span><span class="n">value3</span><span class="p">,</span><span class="k">...</span><span class="c">)</span><span class="w"></span>
</pre></div>

<h2 id="sec_dum_functions_dipcrop">Interactive tools: <code>dipgetcoords</code>, <code>diproi</code>, et al.</h2>
<p>These are some tools that, using an image display, allow the user to
select points or regions in an image. <code>dipgetcoords</code> returns the
coordinates of one or more points selected by clicking on an image.</p>
<p><code>diproi</code> returns a mask image (ROI stands for region of interest)
created by selecting the vertices of a polygon; it can only be used with 2D images.</p>
<p><code>dipcrop</code> returns a rectangular portion of an image selected by dragging
a rectangle. <code>dipprofile</code> returns a 1D image interpolated along a path
selected by the user on the display.</p>
<p><code>dipgetimage</code> retrieves the image from a display. Use it if you lost an
image but can still see it in its display.</p>
<p><code>dipstackinspect</code> lets the user click on a 3D display, and shows a 1D
plot of the hidden dimension at that point. The tool will stay active
until the right mouse button is clicked over the image.</p>
<p>Note that these functions apply only to figure windows created by <code>dipshow</code>.</p>
<h2 id="sec_dum_functions_improc">Image processing functions</h2>
<p>The largest part of the toolbox is made out of the image processing
functions. Most of them are listed in the menu system of the GUI, and
all are listed by typing</p>
<div class="m-code"><pre><span></span><span class="nb">help</span><span class="w"> </span><span class="n">DIPimage</span><span class="w"></span>
</pre></div>

<p>The usage of each function can be retrieved through the <code>help</code> command
or through the GUI.</p>
        <div class="m-note m-dim m-thin m-text-center"><a href="sec_dum_figurewindows.html" class="m-doc">&laquo; Figure Windows</a> | <a href="dipimage_user_manual.html" class="m-doc"><em>DIPimage</em> User Manual</a> | <a href="sec_dum_customizing.html" class="m-doc">Customizing the <em>DIPimage</em> Environment &raquo;</a></div>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form action="https://diplib.org/diplib-docs/#search">
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript. Enable it or <a href="https://google.com/search?q=site:diplib.org+">use an external search engine</a>.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or modules.
              You can omit any prefix from the symbol or file path; adding a <code>:</code> or
              <code>/</code> suffix lists all members of given symbol or directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span> / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
              <span class="m-label m-dim">Enter</span> to go.
              <span class="m-label m-dim">Tab</span> autocompletes common prefix.
              You can copy a link to the result using <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">L</span>,
              or <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">M</span> to copy a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.<br />Maybe try a full-text <a href="#" id="search-external" data-search-engine="https://google.com/search?q=site:diplib.org+{query}">search with external engine</a>?</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>DIPlib, a library for quantitative image analysis. Documentation compiled with <a href="https://crisluengo.github.io/doxpp/">dox++</a> and styled with <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>