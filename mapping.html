<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Grey-value mapping module | DIPlib | a library for quantitative image analysis</title>
  <link rel="stylesheet" href="m-dip+documentation.compiled.css" />
  <link rel="icon" href="DIPlib_logo_32.png" type="image/png" />
  <link rel="search" type="application/opensearchdescription+xml" href="opensearch.xml" title="Search DIPlib documentation" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#ffffff" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <span id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">
        <a href="https://diplib.org"><img src="DIPlib_logo.svg" alt="" />DIPlib</a><span class="m-breadcrumb">┃</span><a href="index.html" class="m-thin">a library for quantitative image analysis</a><span class="m-breadcrumb">┃</span><a href="https://github.com/DIPlib/diplib/releases/tag/3.5.2" class="m-thin">version 3.5.2</a>      </span>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="classes.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          Grey-value mapping <span class="m-thin">module</span>          <div class="m-doc-include m-code m-thin m-text-right">#include <a href="file--diplib--mapping-h.html">"diplib/mapping.h"</a></div>
        </h1>
        <p>Operators that map image grey values.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#nested-classes">Classes</a></li>
                <li><a href="#function-members">Functions</a></li>
              </ul>
            </li>
          </ul>
        </div>
        <section id="nested-classes">
          <h2>Classes</h2>
          <dl class="m-doc">
                          <dt>
              class <a href="dip-LookupTable.html" class="m-doc">dip::<wbr />LookupTable</a>
            </dt>
            <dd>Encapsulates the concept of the look-up table (LUT).</dd>
          </dl>
        </section>
        <section id="function-members">
          <h2>Functions</h2>
          <dl class="m-doc">
                          <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-Clip-Image-CL-Image-L-dfloat--dfloat--String-CL" class="m-doc">dip::<wbr />Clip</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> low = 0.0,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> high = 255.0,
              <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> const&amp; mode = S::BOTH)</span>
            </dt>
            <dd>Clips the sample values in <code>in</code> to a specified range. <a href="#dip-Clip-Image-CL-Image-L-dfloat--dfloat--String-CL">more...</a></dd>
                          <dt id="dip-ClipLow-Image-CL-Image-L-dfloat-">
              <span class="m-doc-wrap-bumper">void <a href="#dip-ClipLow-Image-CL-Image-L-dfloat-" class="m-doc-self">dip::<wbr />ClipLow</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> low = 0.0)</span>
            </dt>
            <dd>Clips the sample values in <code>in</code>, putting all values below <code>low</code> to <code>low</code>.</dd>
                          <dt id="dip-ClipHigh-Image-CL-Image-L-dfloat-">
              <span class="m-doc-wrap-bumper">void <a href="#dip-ClipHigh-Image-CL-Image-L-dfloat-" class="m-doc-self">dip::<wbr />ClipHigh</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> high = 255.0)</span>
            </dt>
            <dd>Clips the sample values in <code>in</code>, putting all values above <code>high</code> to <code>high</code>.</dd>
                          <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-ErfClip-Image-CL-Image-L-dfloat--dfloat--String-CL" class="m-doc">dip::<wbr />ErfClip</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> low = 128.0,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> high = 64.0,
              <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> const&amp; mode = S::RANGE)</span>
            </dt>
            <dd>Clips the sample values in <code>in</code> to a specified range, using the error function. <a href="#dip-ErfClip-Image-CL-Image-L-dfloat--dfloat--String-CL">more...</a></dd>
                          <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-Zero-Image-CL-Image-L-dfloat-" class="m-doc">dip::<wbr />Zero</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> threshold = 128.0)</span>
            </dt>
            <dd>Zeros the sample values in <code>in</code> that are below <code>threshold</code>. <a href="#dip-Zero-Image-CL-Image-L-dfloat-">more...</a></dd>
                          <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-Shrinkage-Image-CL-Image-L-dfloat-" class="m-doc">dip::<wbr />Shrinkage</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> threshold = 128.0)</span>
            </dt>
            <dd>Shrinkage function, also known as soft threshold. <a href="#dip-Shrinkage-Image-CL-Image-L-dfloat-">more...</a></dd>
                          <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-ContrastStretch-Image-CL-Image-L-dfloat--dfloat--dfloat--dfloat--String-CL-dfloat--dfloat-" class="m-doc">dip::<wbr />ContrastStretch</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> lowerBound = 0.0,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> upperBound = 100.0,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> outMin = 0.0,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> outMax = 255.0,
              <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> const&amp; method = S::LINEAR,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> parameter1 = 1.0,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> parameter2 = 0.0)</span>
            </dt>
            <dd>Applies a mapping function according to the input image&rsquo;s range and the given output range. <a href="#dip-ContrastStretch-Image-CL-Image-L-dfloat--dfloat--dfloat--dfloat--String-CL-dfloat--dfloat-">more...</a></dd>
                          <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-HistogramEqualization-Image-CL-Image-L-dip-uint-" class="m-doc">dip::<wbr />HistogramEqualization</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="supporttypes.html#dip-uint" class="m-doc">dip::uint</a> nBins = 256)</span>
            </dt>
            <dd>Modifies the image such that its histogram is as flat as possible. <a href="#dip-HistogramEqualization-Image-CL-Image-L-dip-uint-">more...</a></dd>
                          <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-HistogramMatching-Image-CL-Image-L-Histogram-CL" class="m-doc">dip::<wbr />HistogramMatching</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="dip-Histogram.html" class="m-doc">dip::Histogram</a> const&amp; example)</span>
            </dt>
            <dd>Modifies the image such that its histogram is as similar as possible to <code>example</code>. <a href="#dip-HistogramMatching-Image-CL-Image-L-Histogram-CL">more...</a></dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
                        <section class="m-doc-details" id="dip-Clip-Image-CL-Image-L-dfloat--dfloat--String-CL"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-Clip-Image-CL-Image-L-dfloat--dfloat--String-CL" class="m-doc-self">dip::<wbr />Clip</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> low = 0.0,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> high = 255.0,
              <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> const&amp; mode = S::BOTH)</span></span>
            </h3>
            <p>Clips the sample values in <code>in</code> to a specified range.</p>
<p>The input values are written unmodified to <code>out</code> if they are within the given range, otherwise the closest
value within the range is used. Clipping is also known as clamping or thresholding, though in <em>DIPlib</em> we
use &ldquo;thresholding&rdquo; for the process that yields a binary image.</p>
<p>The output range is given by <code>low</code> and <code>high</code>. <code>mode</code> can be one of the following strings:</p>
<ul>
<li><code>"both"</code>: any value lower than <code>low</code> is set to <code>low</code>, and any value higher than <code>high</code> is set to <code>high</code>.</li>
<li><code>"low"</code>: only the lower bound is enforced, yields same result as setting <code>high</code> to infinity.</li>
<li><code>"high"</code>: only the upper bound is enforced, yields same result as setting <code>low</code> to infinity.</li>
<li><code>"range"</code>: <code>low</code> is interpreted as the middle of the range, and <code>high</code> as the length of the range. The
  output range is given by [<code>low-high/2</code>,<code>low+high/2</code>].</li>
</ul>
<p><code>in</code> must be real-valued. Tensor elements are processed independently. <code>out</code> is of the same type as <code>in</code>.</p>
          </div></section>
                        <section class="m-doc-details" id="dip-ErfClip-Image-CL-Image-L-dfloat--dfloat--String-CL"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-ErfClip-Image-CL-Image-L-dfloat--dfloat--String-CL" class="m-doc-self">dip::<wbr />ErfClip</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> low = 128.0,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> high = 64.0,
              <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> const&amp; mode = S::RANGE)</span></span>
            </h3>
            <p>Clips the sample values in <code>in</code> to a specified range, using the error function.</p>
<p>The input values are mapped through the error function. This leads to values in the middle of the range
being unaffected, and values larger than <code>high</code> asymptotically reaching 1, and values lower than <code>low</code>
asymptotically reaching 0. This process is also known as soft thresholding, and leads to a quasi-binary
image where the slow transition between foreground and background is preserved, thereby avoiding a most
of the aliasing that is introduced by binarization (van Vliet, 1993).</p>
<p>The range to map is given by <code>low</code> and <code>high</code>. <code>mode</code> can be one of the following strings:</p>
<ul>
<li><code>"both"</code>: any value lower than <code>low</code> is set to <code>low</code>, and any value higher than <code>high</code> is set to <code>high</code>.</li>
<li><code>"low"</code>: only the lower bound is enforced, but the value of <code>high</code> still affects the mapping.</li>
<li><code>"high"</code>: only the upper bound is enforced, but the value of <code>low</code> still affects the mapping.</li>
<li><code>"range"</code>: <code>low</code> is interpreted as the middle of the range, and <code>high</code> as the length of the range. The
  input range is given by [<code>low-high/2</code>, <code>low+high/2</code>]. Note that this is the default mode.</li>
</ul>
<p><code>in</code> must be real-valued. Tensor elements are processed independently. <code>out</code> is of a floating-point type.</p>
<aside class="m-note m-default">
<h4>Literature</h4>
<ul>
<li>L.J. van Vliet, &ldquo;Grey-Scale Measurements in Multi-Dimensional Digitized Images&rdquo;, Ph.D. thesis, Delft University
  of Technology, The Netherlands, 1993.</li>
</ul>
</aside>
          </div></section>
                        <section class="m-doc-details" id="dip-Zero-Image-CL-Image-L-dfloat-"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-Zero-Image-CL-Image-L-dfloat-" class="m-doc-self">dip::<wbr />Zero</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> threshold = 128.0)</span></span>
            </h3>
            <p>Zeros the sample values in <code>in</code> that are below <code>threshold</code>.</p>
<p>The input values are written unmodified to <code>out</code> if they are larger or equal to <code>threshold</code>. Otherwise,
zero is substituted. This operation is also referred to as thresholding, though in <em>DIPlib</em> we
use &ldquo;thresholding&rdquo; for the process that yields a binary image.</p>
<p><code>in</code> must be real-valued. Tensor elements are processed independently. <code>out</code> is of the same type as <code>in</code>.</p>
          </div></section>
                        <section class="m-doc-details" id="dip-Shrinkage-Image-CL-Image-L-dfloat-"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-Shrinkage-Image-CL-Image-L-dfloat-" class="m-doc-self">dip::<wbr />Shrinkage</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> threshold = 128.0)</span></span>
            </h3>
            <p>Shrinkage function, also known as soft threshold.</p>
<p>The shrinkage function shifts values towards zero by <code>threshold</code>, samples with a smaller magnitude are set to zero.
That is, it applies</p>
<div class="m-math"><svg style="width: 12.801em; height: 5.021em; vertical-align: 0.100em; " viewBox="129.76 -51.21 128.01 50.21">
<title>
\[
   S_t(x) = \begin{cases}
                 x - t  &amp;  x &gt; t
              \\ x + t  &amp;  x &lt; -t
              \\ 0      &amp; \text{otherwise}
            \end{cases}
\]
</title>
<defs>
<path id='eq151-g17-48' d='M5.67-3.93C5.67-6.37 4.59-8.05 3.03-8.05C2.37-8.05 1.87-7.85 1.43-7.43C.74-6.77 .29-5.4 .29-4C.29-2.7 .68-1.31 1.24-.64C1.68-.12 2.29 .17 2.98 .17C3.59 .17 4.1-.04 4.53-.45C5.22-1.11 5.67-2.49 5.67-3.93ZM4.53-3.91C4.53-1.42 4-.14 2.98-.14S1.43-1.42 1.43-3.89C1.43-6.42 1.97-7.74 2.99-7.74C3.99-7.74 4.53-6.4 4.53-3.91Z'/>
<path id='eq151-g17-101' d='M5.05-1.87L4.86-1.95C4.29-1.05 3.78-.7 3.01-.7C2.36-.7 1.86-1.01 1.51-1.66C1.27-2.12 1.18-2.54 1.16-3.3H4.82C4.73-4.07 4.61-4.42 4.31-4.8C3.95-5.23 3.41-5.48 2.79-5.48C1.31-5.48 .3-4.29 .3-2.55C.3-.91 1.16 .12 2.53 .12C3.67 .12 4.55-.58 5.05-1.87ZM3.61-3.68H1.18C1.31-4.62 1.72-5.05 2.44-5.05S3.45-4.72 3.61-3.68Z'/>
<path id='eq151-g17-104' d='M5.8 0V-.18C5.16-.3 5.09-.39 5.09-1.21V-3.59C5.09-4.84 4.59-5.48 3.62-5.48C2.92-5.48 2.42-5.19 1.87-4.48V-8.1L1.81-8.13C1.41-7.99 1.11-7.9 .44-7.71L.12-7.61V-7.42C.17-7.43 .2-7.43 .26-7.43C.77-7.43 .87-7.34 .87-6.82V-1.21C.87-.38 .8-.27 .11-.18V0H2.68V-.18C1.99-.25 1.87-.39 1.87-1.21V-4.09C2.37-4.63 2.73-4.84 3.19-4.84C3.79-4.84 4.09-4.41 4.09-3.57V-1.21C4.09-.4 3.97-.25 3.28-.18V0H5.8Z'/>
<path id='eq151-g17-105' d='M3.01 0V-.18C2.23-.24 2.13-.36 2.13-1.21V-5.44L2.08-5.48L.24-4.82V-4.65L.33-4.66C.48-4.68 .63-4.69 .74-4.69C1.02-4.69 1.13-4.5 1.13-3.98V-1.21C1.13-.36 1.01-.23 .19-.18V0H3.01ZM2.24-7.53C2.24-7.86 1.98-8.13 1.63-8.13C1.3-8.13 1.02-7.86 1.02-7.53C1.02-7.18 1.3-6.92 1.63-6.92C1.98-6.92 2.24-7.18 2.24-7.53Z'/>
<path id='eq151-g17-111' d='M5.6-2.79C5.6-4.35 4.5-5.48 2.98-5.48C1.43-5.48 .35-4.34 .35-2.69C.35-1.08 1.45 .12 2.95 .12S5.6-1.14 5.6-2.79ZM4.53-2.37C4.53-1.02 3.99-.21 3.1-.21C2.63-.21 2.19-.5 1.94-.98C1.61-1.6 1.42-2.43 1.42-3.28C1.42-4.41 1.98-5.15 2.82-5.15C3.82-5.15 4.53-4 4.53-2.37Z'/>
<path id='eq151-g17-114' d='M3.99-4.85C3.99-5.24 3.74-5.48 3.33-5.48C2.83-5.48 2.49-5.2 1.91-4.36V-5.46L1.85-5.48C1.21-5.22 .79-5.06 .08-4.84V-4.65C.25-4.68 .36-4.69 .5-4.69C.8-4.69 .91-4.5 .91-3.98V-1C.91-.4 .82-.32 .06-.18V0H2.92V-.18C2.11-.21 1.91-.39 1.91-1.07V-3.75C1.91-4.13 2.42-4.73 2.74-4.73C2.81-4.73 2.92-4.67 3.05-4.55C3.24-4.38 3.37-4.31 3.53-4.31C3.81-4.31 3.99-4.51 3.99-4.85Z'/>
<path id='eq151-g17-115' d='M4.14-1.41C4.14-2 3.87-2.39 3.14-2.82L1.86-3.59C1.52-3.78 1.35-4.07 1.35-4.39C1.35-4.88 1.72-5.2 2.26-5.2C2.94-5.2 3.3-4.81 3.57-3.74H3.75L3.7-5.36H3.57L3.55-5.34C3.44-5.25 3.43-5.24 3.38-5.24C3.31-5.24 3.19-5.26 3.06-5.32C2.81-5.42 2.54-5.47 2.25-5.47C1.27-5.47 .61-4.87 .61-4C.61-3.33 .99-2.87 2-2.29L2.69-1.89C3.11-1.66 3.31-1.37 3.31-1C3.31-.48 2.93-.14 2.32-.14C1.5-.14 1.08-.6 .81-1.81H.62V.05H.77C.86-.07 .91-.1 1.05-.1C1.18-.1 1.31-.07 1.6 0C1.93 .07 2.23 .12 2.48 .12C3.38 .12 4.14-.57 4.14-1.41Z'/>
<path id='eq151-g17-116' d='M3.32-.79L3.17-.92C2.91-.61 2.72-.5 2.45-.5C2.01-.5 1.83-.81 1.83-1.57V-4.98H3.04V-5.36H1.83V-6.74C1.83-6.86 1.81-6.9 1.75-6.9C1.68-6.78 1.6-6.67 1.51-6.56C1.07-5.91 .67-5.47 .36-5.29C.23-5.2 .15-5.13 .15-5.06C.15-5.03 .17-5 .2-4.98H.83V-1.39C.83-.39 1.19 .12 1.88 .12C2.48 .12 2.93-.17 3.32-.79Z'/>
<path id='eq151-g17-119' d='M8.27-5.18V-5.36H6.8V-5.18C7.21-5.1 7.32-5.01 7.32-4.81C7.32-4.63 7.25-4.35 7.12-4.03L6.05-1.38L5.05-4.05C4.85-4.6 4.85-4.6 4.85-4.75C4.85-5.01 4.98-5.1 5.54-5.18V-5.36H3.12V-5.18C3.56-5.13 3.7-5 3.94-4.36L4.18-3.69L3.1-1.32L1.92-4.43C1.87-4.55 1.85-4.67 1.85-4.79C1.85-5.04 1.99-5.13 2.39-5.18V-5.36H.25V-5.18C.52-5.16 .62-5.04 .88-4.43L2.49-.36C2.63 0 2.73 .17 2.8 .17C2.86 .17 2.95 .01 3.1-.3L4.43-3.16L5.51-.35C5.68 .1 5.73 .17 5.8 .17C5.88 .17 5.94 .06 6.13-.42L7.78-4.54C7.99-5.04 8.03-5.1 8.27-5.18Z'/>
<path id='eq151-g1-61' d='M6.84-4V-4.67H.74V-4H6.84ZM6.84-1.58V-2.25H.74V-1.58H6.84Z'/>
<path id='eq151-g7-0' d='M6.84-2.73V-3.39H.74V-2.73H6.84Z'/>
<path id='eq151-g7-184' d='M3.39-3.45H.74V-2.67H3.39V0H4.18V-2.67H6.84V-3.45H4.18V-6.12H3.39V-3.45Z'/>
<path id='eq151-g7-185' d='M3.51-8.54C1.79-7.42 .57-5.49 .57-3.06C.57-.85 1.83 1.39 3.48 2.41L3.62 2.22C2.05 .98 1.6-.46 1.6-3.1C1.6-5.74 2.08-7.11 3.62-8.35L3.51-8.54Z'/>
<path id='eq151-g7-186' d='M.45-8.54L.35-8.35C1.88-7.11 2.37-5.74 2.37-3.1C2.37-.46 1.92 .98 .35 2.22L.49 2.41C2.13 1.39 3.39-.85 3.39-3.06C3.39-5.49 2.18-7.42 .45-8.54Z'/>
<path id='eq151-g4-56' d='M6-7.15C6-7.18 5.98-7.21 5.93-7.21C5.82-7.21 5.63-7.11 5.59-7.09C3.57-6.01 2.75-3.53 2.75-.52V.24H3.82V-.73C3.82-2.92 3.91-5.51 5.69-6.84C5.8-6.92 6-7.05 6-7.15Z'/>
<path id='eq151-g4-58' d='M6 0C6-.1 5.8-.23 5.69-.31C3.91-1.63 3.82-4.23 3.82-6.42V-7.38H2.75V-6.62C2.75-3.62 3.57-1.13 5.59-.06C5.63-.04 5.82 .06 5.93 .06C5.98 .06 6 .04 6 0Z'/>
<path id='eq151-g4-60' d='M2.78 10.18L2.75 14.53H3.82V10.81C3.82 9.75 3.67 7.93 1.75 7.13C3.67 6.3 3.82 4.49 3.82 3.44V-.24H2.75L2.74 4.32C2.74 5.1 1.99 6.56 .79 7C.73 7.03 .69 7.06 .69 7.13C.69 7.22 .71 7.25 .81 7.29C2.41 7.87 2.78 9.56 2.78 10.18Z'/>
<path id='eq151-g4-62' d='M3.82 .24V-3.81H2.75V.24H3.82Z'/>
<use id='eq151-g13-40' xlink:href='#eq151-g10-40' transform='scale(1.36)'/>
<use id='eq151-g13-67' xlink:href='#eq151-g10-67' transform='scale(1.36)'/>
<use id='eq151-g13-71' xlink:href='#eq151-g10-71' transform='scale(1.36)'/>
<use id='eq151-g13-159' xlink:href='#eq151-g10-159' transform='scale(1.36)'/>
<use id='eq151-g13-161' xlink:href='#eq151-g10-161' transform='scale(1.36)'/>
<path id='eq151-g10-40' d='M3.76-1.59C3.76-2.16 3.57-2.49 2.78-3.29C1.98-4.09 1.91-4.21 1.91-4.64C1.91-5.19 2.28-5.53 2.87-5.53C3.2-5.53 3.46-5.42 3.64-5.21C3.84-5 3.91-4.7 3.93-4.11L4.09-4.09L4.44-5.83H4.24C4.11-5.64 4.04-5.6 3.84-5.6C3.73-5.6 3.62-5.62 3.44-5.69C3.26-5.77 2.97-5.82 2.7-5.82C1.79-5.82 1.14-5.21 1.14-4.36C1.14-3.89 1.28-3.63 1.8-3.07C1.91-2.96 2.03-2.84 2.14-2.71L2.48-2.34C2.89-1.91 3-1.69 3-1.31C3-.65 2.52-.15 1.88-.15C1.14-.15 .6-.77 .6-1.62C.6-1.69 .6-1.72 .62-1.8L.45-1.82L.15 .13H.31C.37-.07 .46-.16 .64-.16C.73-.16 .86-.12 1.09-.04C1.49 .1 1.73 .16 2 .16C3 .16 3.76-.59 3.76-1.59Z'/>
<path id='eq151-g10-67' d='M2.59-3.74H1.89L2.13-4.64C2.14-4.66 2.14-4.67 2.14-4.68C2.14-4.74 2.11-4.77 2.07-4.77C2.02-4.77 1.99-4.76 1.94-4.69C1.11-3.61 .5-3.79 .5-3.51C.5-3.5 .5-3.49 .51-3.46H1.15L.52-1.06C.5-.94 .32-.4 .32-.24C.32-.04 .51 .1 .74 .1C1.14 .1 1.43-.15 1.98-.96L1.87-1.02C1.44-.47 1.3-.33 1.16-.33C1.08-.33 1.03-.4 1.03-.51C1.03-.52 1.03-.52 1.04-.55L1.81-3.46H2.54L2.59-3.74Z'/>
<path id='eq151-g10-71' d='M3.63-.9L3.51-.97C3.44-.88 3.4-.84 3.32-.73C3.12-.47 3.02-.38 2.91-.38C2.79-.38 2.71-.5 2.65-.74C2.63-.82 2.62-.86 2.61-.88C2.4-1.7 2.3-2.17 2.3-2.31C2.68-2.98 3-3.36 3.15-3.36C3.21-3.36 3.28-3.34 3.36-3.29C3.47-3.23 3.53-3.21 3.61-3.21C3.78-3.21 3.9-3.35 3.9-3.53C3.9-3.72 3.76-3.85 3.55-3.85C3.16-3.85 2.84-3.54 2.23-2.6L2.13-3.08C2.01-3.68 1.91-3.85 1.68-3.85C1.48-3.85 1.2-3.78 .66-3.6L.56-3.56L.59-3.43L.74-3.47C.91-3.51 1.01-3.53 1.08-3.53C1.3-3.53 1.35-3.45 1.48-2.93L1.73-1.85L1.01-.83C.83-.57 .66-.41 .57-.41C.52-.41 .43-.44 .34-.49C.23-.55 .14-.58 .06-.58C-.11-.58-.24-.45-.24-.27C-.24-.04-.07 .1 .2 .1S.58 .02 1.01-.51L1.8-1.54L2.06-.49C2.17-.03 2.29 .1 2.57 .1C2.9 .1 3.13-.11 3.63-.9Z'/>
<path id='eq151-g10-159' d='M5.01-.05V-.54L1.38-2.24L5.01-3.95V-4.44L.54-2.33V-2.16L5.01-.05Z'/>
<path id='eq151-g10-161' d='M5.01-2.16V-2.33L.54-4.44V-3.95L4.18-2.24L.54-.54V-.05L5.01-2.16Z'/>
</defs>
<g id='eq151-page1'>
<use x='129.56' y='-22.93' xlink:href='#eq151-g13-40'/>
<use x='135.81' y='-21.14' xlink:href='#eq151-g10-67'/>
<use x='139.85' y='-22.93' xlink:href='#eq151-g7-185'/>
<use x='144.31' y='-22.93' xlink:href='#eq151-g13-71'/>
<use x='150.2' y='-22.93' xlink:href='#eq151-g7-186'/>
<use x='158.1' y='-22.93' xlink:href='#eq151-g1-61'/>
<use x='169.5' y='-44.01' xlink:href='#eq151-g4-56'/>
<use x='169.5' y='-40.42' xlink:href='#eq151-g4-62'/>
<use x='169.5' y='-36.83' xlink:href='#eq151-g4-62'/>
<use x='169.5' y='-33.25' xlink:href='#eq151-g4-62'/>
<use x='169.5' y='-33.25' xlink:href='#eq151-g4-60'/>
<use x='169.5' y='-15.65' xlink:href='#eq151-g4-62'/>
<use x='169.5' y='-12.06' xlink:href='#eq151-g4-62'/>
<use x='169.5' y='-8.48' xlink:href='#eq151-g4-62'/>
<use x='169.5' y='-1.06' xlink:href='#eq151-g4-58'/>
<use x='176.58' y='-39.87' xlink:href='#eq151-g13-71'/>
<use x='185.12' y='-39.87' xlink:href='#eq151-g7-0'/>
<use x='195.34' y='-39.87' xlink:href='#eq151-g13-67'/>
<use x='211.31' y='-39.87' xlink:href='#eq151-g13-71'/>
<use x='220.52' y='-39.87' xlink:href='#eq151-g13-161'/>
<use x='231.39' y='-39.87' xlink:href='#eq151-g13-67'/>
<use x='176.58' y='-22.54' xlink:href='#eq151-g13-71'/>
<use x='185.12' y='-22.54' xlink:href='#eq151-g7-184'/>
<use x='195.34' y='-22.54' xlink:href='#eq151-g13-67'/>
<use x='211.31' y='-22.54' xlink:href='#eq151-g13-71'/>
<use x='220.52' y='-22.54' xlink:href='#eq151-g13-159'/>
<use x='231.44' y='-22.54' xlink:href='#eq151-g7-0'/>
<use x='239' y='-22.54' xlink:href='#eq151-g13-67'/>
<use x='176.58' y='-5.2' xlink:href='#eq151-g17-48'/>
<use x='211.31' y='-5.2' xlink:href='#eq151-g17-111'/>
<use x='217.29' y='-5.2' xlink:href='#eq151-g17-116'/>
<use x='220.61' y='-5.2' xlink:href='#eq151-g17-104'/>
<use x='226.59' y='-5.2' xlink:href='#eq151-g17-101'/>
<use x='231.9' y='-5.2' xlink:href='#eq151-g17-114'/>
<use x='236.12' y='-5.2' xlink:href='#eq151-g17-119'/>
<use x='244.75' y='-5.2' xlink:href='#eq151-g17-105'/>
<use x='248.07' y='-5.2' xlink:href='#eq151-g17-115'/>
<use x='252.72' y='-5.2' xlink:href='#eq151-g17-101'/>
</g>
</svg></div>
<p>This function can be written also as <code>dip::Maximum( dip::Abs(x) - t, 0 ) * dip::Sign(x)</code> (see
<a href="math_projection.html#dip-Maximum-Image-CL-Image-CL-Image-L-BooleanArray-CL"><code>dip::Maximum</code></a>, <a href="math_arithmetic.html#dip-Abs-Image-CL-Image-L"><code>dip::Abs</code></a> and <a href="math_arithmetic.html#dip-Sign-Image-CL-Image-L"><code>dip::Sign</code></a>).</p>
<p><code>in</code> must be real-valued. Tensor elements are processed independently. <code>out</code> is of the same type as <code>in</code>.</p>
          </div></section>
                        <section class="m-doc-details" id="dip-ContrastStretch-Image-CL-Image-L-dfloat--dfloat--dfloat--dfloat--String-CL-dfloat--dfloat-"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-ContrastStretch-Image-CL-Image-L-dfloat--dfloat--dfloat--dfloat--String-CL-dfloat--dfloat-" class="m-doc-self">dip::<wbr />ContrastStretch</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> lowerBound = 0.0,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> upperBound = 100.0,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> outMin = 0.0,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> outMax = 255.0,
              <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> const&amp; method = S::LINEAR,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> parameter1 = 1.0,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> parameter2 = 0.0)</span></span>
            </h3>
            <p>Applies a mapping function according to the input image&rsquo;s range and the given output range.</p>
<p>The mapping function is defined as follows: sample values higher or equal to <code>upperBound</code> are mapped
to the <code>outMax</code> value, and sample values lower or equal to <code>lowerBound</code> are mapped to the <code>outMin</code> value.
<code>method</code> determines how pixel values are mapped in between these limits. Valid strings for <code>mode</code> are:</p>
<ul>
<li><code>"linear"</code>: linear mapping.</li>
<li><code>"signed linear"</code>: linear mapping with zero at fixed value in the middle of the output range.</li>
<li><code>"logarithmic"</code>: logarithmic mapping.</li>
<li><code>"signed logarithmic"</code>: logarithmic mapping with zero at fixed location in the output range.</li>
<li><code>"erf"</code>: error function mapping.</li>
<li><code>"decade"</code>: decade contrast stretch (uses <code>parameter1</code>).</li>
<li><code>"sigmoid"</code>: sigmoid function contrast stretch (uses <code>parameter1</code> and <code>parameter2</code>).</li>
</ul>
<p><code>in</code> must be real-valued. <code>out</code> will be of an arithmetic type (single or double float), unless it is protected,
in which case its data type is preserved (see <a href="dip-Image.html#protect">The &ldquo;protect&rdquo; flag</a>).</p>
<p>Below follow the equations used for each of the mappings. They all use (with the percentile computed across all
samples, not independently for each channel):</p>
<div class="m-code"><pre><span></span><span class="n">dfloat</span><span class="w"> </span><span class="n">inMin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dip</span><span class="o">::</span><span class="n">Percentile</span><span class="p">(</span><span class="w"> </span><span class="n">in</span><span class="p">,</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="n">lowerBound</span><span class="w"> </span><span class="p">).</span><span class="n">As</span><span class="o">&lt;</span><span class="w"> </span><span class="n">dfloat</span><span class="w"> </span><span class="o">&gt;</span><span class="p">();</span>
<span class="n">dfloat</span><span class="w"> </span><span class="n">inMax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dip</span><span class="o">::</span><span class="n">Percentile</span><span class="p">(</span><span class="w"> </span><span class="n">in</span><span class="p">,</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="n">upperBound</span><span class="w"> </span><span class="p">).</span><span class="n">As</span><span class="o">&lt;</span><span class="w"> </span><span class="n">dfloat</span><span class="w"> </span><span class="o">&gt;</span><span class="p">();</span>
<span class="n">in</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dip</span><span class="o">::</span><span class="n">Clip</span><span class="p">(</span><span class="w"> </span><span class="n">in</span><span class="p">,</span><span class="w"> </span><span class="n">inMin</span><span class="p">,</span><span class="w"> </span><span class="n">inMax</span><span class="w"> </span><span class="p">);</span>
</pre></div>

<p>Next, <code>"linear"</code> computes <code>(( outMax - outMin ) / ( inMax - inMin )) * ( in - inMin ) + outMin</code>.</p>
<p><code>"signed linear"</code> computes the same thing, but first sets <code>inMax = std::max( std::abs(inMax), std::abs(inMin) )</code>,
and <code>inMin = -inMax</code>.</p>
<p><code>"logarithmic"</code> computes:</p>
<div class="m-code"><pre><span></span><span class="n">dfloat</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inMin</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">outMax</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">outMin</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Log</span><span class="p">(</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">log</span><span class="p">(</span><span class="w"> </span><span class="n">inMax</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outMin</span><span class="p">;</span>
</pre></div>

<p>whereas <code>"signed logarithmic"</code> computes a similar mapping, but first sets
<code>inMax = std::max( std::abs(inMax), std::abs(inMin) )</code>, and <code>inMin = -inMax</code>, and then takes the logarithm
of <code>in+1</code> for positive <code>in</code> or <code>inMax+in+1</code> for negative <code>in</code>.</p>
<p><code>"erf"</code> applies a mapping identical to that of the <a href="mapping.html#dip-ErfClip-Image-CL-Image-L-dfloat--dfloat--String-CL"><code>dip::ErfClip</code></a> function with the lower range bound set to
<code>inMin</code> and the upper one set to <code>inMax</code>, and then scales the output to the requested range. Note that in this
case, the input is not hard-clipped to the range, but soft-clipped through the error function.</p>
<p><code>"decade"</code> applies the following mapping to each sample:</p>
<div class="m-code"><pre><span></span><span class="n">dfloat</span><span class="w"> </span><span class="n">decade</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">log10</span><span class="p">((</span><span class="w"> </span><span class="n">inMax</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">inMin</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">inMin</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">EPSILON</span><span class="w"> </span><span class="p">));</span>
<span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">decade</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">parameter1</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">outMax</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">outMin</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">floor</span><span class="p">(</span><span class="n">decade</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">decade</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outMin</span><span class="p">;</span>
<span class="k">else</span>
<span class="w">   </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</pre></div>

<p><code>"sigmoid"</code> applies the following mapping to each sample:</p>
<div class="m-code"><pre><span></span><span class="n">dfloat</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sigmoid</span><span class="p">(</span><span class="w"> </span><span class="n">parameter1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">inMin</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">parameter2</span><span class="w"> </span><span class="p">);</span>
<span class="n">dfloat</span><span class="w"> </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sigmoid</span><span class="p">(</span><span class="w"> </span><span class="n">parameter1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">inMax</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">parameter2</span><span class="w"> </span><span class="p">);</span>
<span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">outMax</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">outMin</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">max</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">sigmoid</span><span class="p">(</span><span class="w"> </span><span class="n">parameter1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">parameter2</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outMin</span><span class="p">;</span>
</pre></div>

<p>Here, the <code>sigmoid</code> function is <code>sigmoid(x) = x / ( 1 + std::abs(x) )</code>. <code>parameter1</code> represents the slope and
<code>parameter2</code> the point around which the sigmoid is centered.</p>
          </div></section>
                        <section class="m-doc-details" id="dip-HistogramEqualization-Image-CL-Image-L-dip-uint-"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-HistogramEqualization-Image-CL-Image-L-dip-uint-" class="m-doc-self">dip::<wbr />HistogramEqualization</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="supporttypes.html#dip-uint" class="m-doc">dip::uint</a> nBins = 256)</span></span>
            </h3>
            <p>Modifies the image such that its histogram is as flat as possible.</p>
<p>This function applies a mapping (<a href="dip-LookupTable.html"><code>dip::LookupTable</code></a>) designed by <a href="histograms.html#dip-EqualizationLookupTable-Histogram-CL"><code>dip::EqualizationLookupTable</code></a>, yielding
an output in the range [0,nBins-1].</p>
<p><code>in</code> must be real-valued and scalar.
The data type of <code>out</code> is the same as that for <code>in</code>, except if that type is a small integer type that cannot
hold the output range, in which case a larger type is chosen.</p>
          </div></section>
                        <section class="m-doc-details" id="dip-HistogramMatching-Image-CL-Image-L-Histogram-CL"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-HistogramMatching-Image-CL-Image-L-Histogram-CL" class="m-doc-self">dip::<wbr />HistogramMatching</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="dip-Histogram.html" class="m-doc">dip::Histogram</a> const&amp; example)</span></span>
            </h3>
            <p>Modifies the image such that its histogram is as similar as possible to <code>example</code>.</p>
<p>This function applies a mapping (<a href="dip-LookupTable.html"><code>dip::LookupTable</code></a>) designed by <a href="histograms.html#dip-MatchingLookupTable-Histogram-CL-Histogram-CL"><code>dip::MatchingLookupTable</code></a>, yielding an
output in the range [<code>example.LowerBound()</code>,<code>example.UpperBound()</code>].</p>
<p><code>in</code> must be real-valued and scalar. <code>example</code> must be a 1D histogram.
The data type of <code>out</code> is always <a href="pixeltypes.html#dip-DT_SFLOAT"><code>dip::DT_SFLOAT</code></a>. If <code>example</code> is the histogram of a <a href="pixeltypes.html#dip-DT_UINT8"><code>dip::DT_UINT8</code></a> image,
it is possible to cast <code>out</code> to <a href="pixeltypes.html#dip-DT_UINT8"><code>dip::DT_UINT8</code></a>.</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form action="https://diplib.org/diplib-docs/#search">
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript. Enable it or <a href="https://google.com/search?q=site:diplib.org+">use an external search engine</a>.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or modules.
              You can omit any prefix from the symbol or file path; adding a <code>:</code> or
              <code>/</code> suffix lists all members of given symbol or directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span> / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
              <span class="m-label m-dim">Enter</span> to go.
              <span class="m-label m-dim">Tab</span> autocompletes common prefix.
              You can copy a link to the result using <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">L</span>,
              or <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">M</span> to copy a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.<br />Maybe try a full-text <a href="#" id="search-external" data-search-engine="https://google.com/search?q=site:diplib.org+{query}">search with external engine</a>?</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>DIPlib, a library for quantitative image analysis. Documentation compiled with <a href="https://crisluengo.github.io/doxpp/">dox++</a> and styled with <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>