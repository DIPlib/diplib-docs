<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DIPimage User Manual &raquo; Figure Windows | DIPlib | a library for quantitative image analysis</title>
  <link rel="stylesheet" href="m-dip+documentation.compiled.css" />
  <link rel="icon" href="DIP_logo_32.png" type="image/png" />
  <link rel="search" type="application/opensearchdescription+xml" href="opensearch.xml" title="Search DIPlib documentation" />
  <link rel="prev" href="sec_dum_dip_measurement.html" />
  <link rel="next" href="sec_dum_functions.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <span id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">
        <a href="https://diplib.org">DIPlib</a><span class="m-breadcrumb">┃</span><a href="index.html" class="m-thin">a library for quantitative image analysis</a>      </span>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="classes.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="dipimage_user_manual.html"><em>DIPimage</em> User Manual</a> &raquo;</span>
          Figure Windows
        </h1>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li><a href="#sec_dum_figurewindows_menus">The figure window menus</a></li>
            <li><a href="#sec_dum_figurewindows_programmatic_updating">Programmatic updating of figure windows</a></li>
            <li><a href="#sec_dum_figurewindows_mouse">Using the mouse in figure windows</a></li>
            <li><a href="#sec_dum_figurewindows_keyboard">Using the keyboard in figure windows</a></li>
            <li><a href="#sec_dum_figurewindows_linking">Linking variables with figure windows</a></li>
            <li><a href="#sec_dum_figurewindows_position">Setting the position of figure windows</a></li>
          </ul>
        </div>
<p>The display is a very important part of any image-processing package.
<code>dip_image</code> objects containing scalar or color images with 1 to 4
dimensions are displayed to <em>MATLAB</em>&lsquo;s figure windows. These windows are
completely cleared beforehand, meaning that images never share a window
with each other or with other graphical elements. This chapter describes
the possible interactions with figure windows, how to link variables
with them, and their placing on the desktop.</p>
<p>The figure windows described in this chapter are those created by the <code>dipshow</code>
function. This function is also used by default to automatically display
images when a when a <em>MATLAB</em> command does not end with a semicolon.
See the <code>'DisplayToFigure'</code> option in <a href="sec_dum_customizing.html#sec_dum_customizing_dippref">Other settings</a>.</p>
<p>The alternative way to display images is with the <code>viewslice</code> function.
The figure windows created use the <em>DIPviewer</em> tool, which has better
image display capabilities (for example it can show tensor images),
but is not integrated equally well into <em>MATLAB</em>.
See <a href="viewer.html#viewer_ui">the DIPviewer documentation</a>
for more information on these figure windows.</p>
<p>The <code>'DisplayFunction'</code> option (see <a href="sec_dum_customizing.html#sec_dum_customizing_dippref">Other settings</a>)
controls which of these two commands is used to automatically display
images.</p>
<h2 id="sec_dum_figurewindows_menus">The figure window menus</h2>
<p>The display for an image contains four menus: &ldquo;File&rdquo;, &ldquo;Sizes&rdquo;,
&ldquo;Mappings&rdquo; and &ldquo;Actions&rdquo;.</p>
<p>The first menu contains a &ldquo;Save display&hellip;&rdquo; option that saves the
display to a file in PNG, TIFF, JPEG or EPS format.
This allows you, for example, to save an image
with labels, or to zoom into a portion of an image and only save that.
It also contains a &ldquo;Close&rdquo; and a &ldquo;Clear&rdquo; item. On Windows machines,
there is a &ldquo;Copy display&rdquo; option. It does the same as &ldquo;Save&rdquo;, but writes
the image as a bitmap to the clipboard, so that it can be pasted into
other applications.</p>
<p>&ldquo;Sizes&rdquo; contains options that call <code>diptruesize</code>, which causes the image
to be displayed with an aspect ratio of 1, and various different zoom
factors (see <a href="sec_dum_functions.html#sec_dum_functions_diptruesize">Figure window support: <code>diptruesize</code></a>). It also contains an
option that causes a the image to be stretched to fill the figure
window. The last option on this menu, &ldquo;Default window size&rdquo; resizes the
window to some pre-defined size (which is 256 by 256 pixels, but you can
change it using <code>dipsetpref</code>, see <a href="sec_dum_functions.html#sec_dum_functions_dippref">Toolbox preferences: <code>dipsetpref</code> and <code>dipgetpref</code></a> and <a href="sec_dum_customizing.html#sec_dum_customizing_dippref">Other settings</a>).</p>
<p>&ldquo;Mappings&rdquo; contains different ways of mapping the data for display.
These options correspond to calls to <code>dipmapping</code> (see <a href="sec_dum_functions.html#sec_dum_functions_dipmapping">Figure window support: <code>dipmapping</code></a>).
The first section here contains stretching modes, which correspond to the
range parameter in <code>dipshow</code> (see <a href="sec_dum_functions.html#sec_dum_functions_dipshow">The <code>dipshow</code> function</a>). One of these options
is &ldquo;Manual&hellip;&rdquo;, which, through a dialog box, allows the user to select a
custom range. The second section, only available for grey-value images,
selects a colormap. The options in the first section will sometimes
change the selection of the colormap. If the image being displayed is
complex, this menu allows choosing the complex to real mapping performed
(magnitude, phase, real or imaginary part). For 3D and 4D images you can
select the orientation of the slices shown (X-Y, X-Z, Y-Z, X-T, Y-T,
Z-T), as well as decide whether the stretching mode selected is to be
computed on the whole volume (&ldquo;Global stretch&rdquo;) or only on the current
slice.</p>
<p>The &ldquo;Actions&rdquo; menu selects the actions that can be performed through the
mouse. The options &ldquo;none&rdquo;, &ldquo;Pixel testing&rdquo;, &ldquo;Zoom&rdquo;, &ldquo;Looking glass&rdquo; and
&ldquo;Pan&rdquo; (which correspond to the <code>diptest</code>, <code>dipzoom</code>, <code>diplooking</code> and
<code>dippan</code> commands) are available to all image types. The 3D/4D image
display also contains an option to &ldquo;Step through slices&rdquo; (<code>dipstep</code>).
See <a href="sec_dum_figurewindows.html#sec_dum_figurewindows_mouse">Using the mouse in figure windows</a> for more information on these modes, and
<a href="sec_dum_functions.html#sec_dum_functions_diptest">Figure window support: <code>diptest</code>, <code>dipzoom</code>, et al.</a> for the associated commands. This menu also contains
a command to enable or disable the keyboard functionality in the window.
See <a href="sec_dum_figurewindows.html#sec_dum_figurewindows_keyboard">Using the keyboard in figure windows</a> for more information on this.</p>
<p>Finally, the &ldquo;Actions&rdquo; menu contains some more options:</p>
<ul>
<li>
<p>&ldquo;Link displays&hellip;&rdquo; (<code>diplink</code>)
  allows the user to link a display with other displays. When zooming,
  panning, stepping through the slices, or changing the orientation of
  the slicing, the images in the other displays will be kept in sync.
  This can be used to easily compare various images.</p>
</li>
<li>
<p>&ldquo;Animate&rdquo; (<code>dipanimate</code>) will step through all slices of a 3D/4D image
  in sequence. Calling this function from the command line allows the
  user to choose the speed of this animation.</p>
</li>
<li>
<p>&ldquo;Isosurface plot&hellip;&rdquo; (<code>dipisosurface</code>) opens a new window, showing
  an isosurface plot of the image. This window contains some controls
  to modify the surface. You should be aware that it takes a while to
  generate an isosurface. It is recommended to smooth and down-sample
  an image before generating an isosurface plot. The isosurface plot
  is only available for 3D displays.</p>
</li>
<li>
<p>&ldquo;View5d&rdquo; (not yet ported over from <em>DIPimage 2</em>)</p>
</li>
</ul>
<h2 id="sec_dum_figurewindows_programmatic_updating">Programmatic updating of figure windows</h2>
<p>The function <code>dipshow</code> (<a href="sec_dum_functions.html#sec_dum_functions_dipshow">The <code>dipshow</code> function</a>) displays an image to
a figure window. It accepts multiple optional arguments to specify
how the image is to be shown. Once displayed, it is possible to
further change these properties using the menus, as described above,
but also using additional commands:</p>
<ul>
<li>
<p><code>dipmapping</code> (<a href="sec_dum_functions.html#sec_dum_functions_dipmapping">Figure window support: <code>dipmapping</code></a>) changes how pixel values
  are mapped to screen colors (stretching modes, color maps, slicing
  directions, etc.)</p>
</li>
<li>
<p><code>diptruesize</code> (<a href="sec_dum_functions.html#sec_dum_functions_diptruesize">Figure window support: <code>diptruesize</code></a>) changes the spatial
  scaling of the image (zoom factor).</p>
</li>
</ul>
<h2 id="sec_dum_figurewindows_mouse">Using the mouse in figure windows</h2>
<p>As discussed above, the &ldquo;Actions&rdquo; menu allows selecting a mode for the
mouse to work in. Depending on the dimensionality and type of the image,
the modes are (the commands between brackets can also be used to turn
these modes on and off, see <a href="sec_dum_functions.html#sec_dum_functions_diptest">Figure window support: <code>diptest</code>, <code>dipzoom</code>, et al.</a>):</p>
<ul>
<li>
<p>&ldquo;None&rdquo;: The mouse does nothing.</p>
</li>
<li>
<p>&ldquo;Pixel testing&rdquo; (<code>diptest</code>): The mouse is used to examine pixel
  values and location. Depressing the left mouse button will cause
  the current cursor position to be displayed in the title bar, together
  with the grey-value (or color values) of the pixel at that location. It
  is possible to move the mouse while holding down the button. Depressing
  the right mouse button does the same thing, but the cursor position
  becomes the origin of the coordinate system. This allows for length
  measurements in images.</p>
</li>
<li>
<p>&ldquo;Zoom&rdquo; (<code>dipzoom</code>): The mouse is used to zoom the image in and out.
  Clicking with the left mouse button zooms the image in with a
  factor 2, and clicking with the right one will zoom the image out
  with a factor 2. Double-clicking any mouse button will cause the image
  to be stretched to fill the figure window. Dragging a rectangle around
  an area of interest will cause it to be zoomed-in on.</p>
</li>
</ul>
<p>The aspect ratio is set to 1:1 when zooming in or out, except after
  double-clicking. See <a href="sec_dum_figurewindows.html#sec_dum_figurewindows_keyboard">Using the keyboard in figure windows</a> to learn how to zoom
  using the keyboard.</p>
<ul>
<li>
<p>&ldquo;Looking glass&rdquo; (<code>diplooking</code>): The mouse is used to enlarge a part
  of the image.</p>
</li>
<li>
<p>&ldquo;Pan&rdquo; (<code>dippan</code>): The mouse is used to pan the image if it doesn&rsquo;t
  fit in the window. Just press the left mouse button and move the
  mouse with the button down. It is also possible to pan using the
  keyboard (see <a href="sec_dum_figurewindows.html#sec_dum_figurewindows_keyboard">Using the keyboard in figure windows</a>).</p>
</li>
<li>
<p>&ldquo;Step through slices&rdquo; (<code>dipstep</code>): The mouse is used to step through
  the slices of a 3D or 4D volume. It allows the user to click or drag the
  cursor over the image to go back and fourth through the slices that make
  up the volume. Moving the mouse down or to the right, while holding down
  the left button, displays higher slice numbers along the first hidden
  dimension. Moving the mouse up or to the left displays lower slice
  numbers. Alternatively, click with the left mouse button to go up, and
  with the right one to go down. If the displayed image is 4D, dragging
  the mouse with the right button down moves the display along the second
  hidden dimension. <a href="sec_dum_figurewindows.html#sec_dum_figurewindows_keyboard">Using the keyboard in figure windows</a> explains how to do step
  through slices with the keyboard.</p>
</li>
</ul>
<h2 id="sec_dum_figurewindows_keyboard">Using the keyboard in figure windows</h2>
<p>When the keyboard is enabled for a display window, it can be used to
step through the slices of a 3D/4D image, zoom in and out, and pan the
image. These functions are independent of the chosen mode for the mouse
under the &ldquo;Actions&rdquo; menu.</p>
<p>The keys <strong class="m-label m-warning">N</strong> and <strong class="m-label m-warning">P</strong>
step to the next and previous slice, respectively, of a 3D image.
Additionally, you can type the number of a slice and press
<strong class="m-label m-warning">Enter</strong> to go to it. Note that slice numbers start
with 0. In case of a 4D image, <strong class="m-label m-warning">N</strong> and
<strong class="m-label m-warning">P</strong> step through the first hidden dimension (Z),
whereas <strong class="m-label m-warning">F</strong> and <strong class="m-label m-warning">B</strong>
step through the second hidden dimension (T).</p>
<p>The keys <strong class="m-label m-warning">I</strong> and <strong class="m-label m-warning">O</strong>
are used to zoom in and out, respectively. The zoom factor is 2.
When zoomed in, use the arrow keys to pan the image and get to the area of
interest. Alternatively you can use the following keys instead:
<strong class="m-label m-warning">W</strong> for up, <strong class="m-label m-warning">S</strong> for down,
<strong class="m-label m-warning">A</strong> for left, and <strong class="m-label m-warning">D</strong>
for right.</p>
<p>The <strong class="m-label m-warning">Esc</strong> key disables the keyboard. This is useful
under operating systems where displaying an image causes its window to gain
keyboard focus. You would have to click on the command window to continue
typing a new command. Instead, press <strong class="m-label m-warning">Esc</strong>,
which disables the keyboard for the window and causes your keystrokes to be
send to the command window. To enable the keyboard again, use the menu item
&ldquo;Enable keyboard&rdquo; under the &ldquo;Actions&rdquo; menu. With the command</p>
<div class="m-code"><pre><span></span><span class="n">dipsetpref</span><span class="p">(</span><span class="s">&#39;EnableKeyboard&#39;</span><span class="p">,</span><span class="s">&#39;off&#39;</span><span class="p">)</span>
</pre></div>

<p>you disable the keyboard by default, and will have to use the above
mentioned menu item to enable it. See <a href="sec_dum_functions.html#sec_dum_functions_dippref">Toolbox preferences: <code>dipsetpref</code> and <code>dipgetpref</code></a> and <a href="sec_dum_customizing.html#sec_dum_customizing_dippref">Other settings</a>.</p>
<h2 id="sec_dum_figurewindows_linking">Linking variables with figure windows</h2>
<p>A variable name can be linked with the handle of a figure window, such
that any image stored in that variable will always be displayed in the
same window. This is done through the <code>dipfig</code> function (see
<a href="sec_dum_functions.html#sec_dum_functions_dipfig">Creating, linking and clearing figure windows: <code>dipfig</code> and <code>dipclf</code></a>). It is not possible to link a single
variable with more than one figure window, but it is possible to link
many variables to the same figure window. This system allows the user to
create a series of figure windows that will be reused, instead of having
new windows created all the time. These links do not, however, promise
that an image displayed is actually up-to-date. Changing the contents of
a variable does not change the contents of a figure window. By not
adding the semicolon at the end of commands, it is possible to
automatically update the figure windows (see <a href="sec_dum_dip_image.html#sec_dum_dip_image_displaying">Displaying <code>dip_image</code> objects</a>).</p>
<p>A special name <code>'other'</code> is defined in <code>dipfig</code>, that is a substitute
for all variables not explicitly linked to a figure window. It allows
the user to have a window for all possible images he can create.
<code>'other'</code> can be linked to a series of windows, which then will be used
sequentially.</p>
<p>Closing a window does not destroy the links that were made for it. Since
variable names are linked to window numbers (handle), a window can be reopened to
display the image with which it is linked.</p>
<p>Note that many toolbox functions that require a figure window handle as
input also accept a variable name. Variable names linked with a figure
window are considered aliases for a figure window handle.</p>
<h2 id="sec_dum_figurewindows_position">Setting the position of figure windows</h2>
<p>The position of a figure window can be changed by manipulating its
<code>'Position'</code> property, which is defined by an array with four values:
<code>left</code>, <code>bottom</code>, <code>width</code> and <code>height</code>.</p>
<div class="m-code"><pre><span></span><span class="n">set</span><span class="p">(</span><span class="n">handle</span><span class="p">,</span><span class="s">&#39;Position&#39;</span><span class="p">,[</span><span class="n">left</span><span class="p">,</span><span class="n">bottom</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="n">heigth</span><span class="p">]);</span>
</pre></div>

<p>The coordinates for figure windows start at the bottom-left corner of
the screen, and are in screen pixels by default. This can be changed to
<code>centimeters</code>, <code>inches</code> and other units:</p>
<div class="m-code"><pre><span></span><span class="n">set</span><span class="p">(</span><span class="n">handle</span><span class="p">,</span><span class="s">&#39;Units&#39;</span><span class="p">,</span><span class="s">&#39;points&#39;</span><span class="p">);</span>
</pre></div>

<p>See <a href="https://www.mathworks.com/help/releases/R2017a/matlab/ref/figure-properties.html"><em>MATLAB</em> Function Reference</a>
for more information on figure window properties. You can see a local
copy of this page by typing from within MATLAB</p>
<div class="m-code"><pre><span></span><span class="n">web</span><span class="p">(</span><span class="n">fullfile</span><span class="p">(</span><span class="n">docroot</span><span class="p">,</span><span class="s">&#39;matlab/ref/figure-properties.html&#39;</span><span class="p">))</span>
</pre></div>

<p>The <code>dipfig</code> function has an additional optional parameter, which can be
used to set the position of a figure window at the same time that it is
created. This parameter comes at the end of the parameter list, and is
the same array used for the <code>'Position'</code> property:</p>
<div class="m-code"><pre><span></span><span class="n">dipfig</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,[</span><span class="mi">400</span><span class="p">,</span><span class="mi">600</span><span class="p">,</span><span class="mi">256</span><span class="p">,</span><span class="mi">256</span><span class="p">]);</span>
</pre></div>

<p>The <code>width</code> and <code>height</code> values are those of the image that will fit in
the window, and the window itself is drawn around this area. These
values are always in screen pixels.</p>
<p>If an image is larger or smaller than the size of the window, the window
will be resized so that the image fits exactly. That is, unless the
<code>'TrueSize'</code> option is turned off (see <a href="sec_dum_customizing.html#sec_dum_customizing_dippref">Other settings</a>),
in which case the window will not be
resized, and the image will be stretched to fit. To have your windows
fixed on the desktop, disable the <code>'TrueSize'</code> option.</p>
<p>As with all other settings, the position of the figure windows cannot be
saved from one session to the next. Add the appropriate commands to your
<code>startup.m</code> or <code>dipinit.m</code> files to have the same settings across
sessions (see <a href="sec_dum_customizing.html#sec_dum_customizing_dipinit">Initialization file</a>).</p>
        <div class="m-note m-dim m-thin m-text-center"><a href="sec_dum_dip_measurement.html" class="m-doc">&laquo; The <code>dip_measurement</code> Object</a> | <a href="dipimage_user_manual.html" class="m-doc"><em>DIPimage</em> User Manual</a> | <a href="sec_dum_functions.html" class="m-doc">Toolbox Functions &raquo;</a></div>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form action="https://diplib.org/diplib-docs/#search">
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript. Enable it or <a href="https://google.com/search?q=site:diplib.org+">use an external search engine</a>.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or modules.
              You can omit any prefix from the symbol or file path; adding a <code>:</code> or
              <code>/</code> suffix lists all members of given symbol or directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span> / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
              <span class="m-label m-dim">Enter</span> to go.
              <span class="m-label m-dim">Tab</span> autocompletes common prefix.
              You can copy a link to the result using <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">L</span>,
              or <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">M</span> to copy a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.<br />Maybe try a full-text <a href="#" id="search-external" data-search-engine="https://google.com/search?q=site:diplib.org+{query}">search with external engine</a>?</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>DIPlib, a library for quantitative image analysis. Documentation compiled with <a href="https://crisluengo.github.io/doxpp/">dox++</a> and styled with <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>