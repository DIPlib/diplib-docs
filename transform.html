<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Transforms module | DIPlib | a library for quantitative image analysis</title>
  <link rel="stylesheet" href="m-dip+documentation.compiled.css" />
  <link rel="icon" href="DIPlib_logo_32.png" type="image/png" />
  <link rel="search" type="application/opensearchdescription+xml" href="opensearch.xml" title="Search DIPlib documentation" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#ffffff" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <span id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">
        <a href="https://diplib.org"><img src="DIPlib_logo.svg" alt="" />DIPlib</a><span class="m-breadcrumb">┃</span><a href="index.html" class="m-thin">a library for quantitative image analysis</a><span class="m-breadcrumb">┃</span><a href="https://github.com/DIPlib/diplib/releases/tag/3.3.0" class="m-thin">version 3.3.0</a>      </span>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="classes.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          Transforms <span class="m-thin">module</span>        </h1>
        <p>The Fourier and other transforms.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#nested-classes">Classes</a></li>
                <li><a href="#function-members">Functions</a></li>
                <li><a href="#variable-members">Variables</a></li>
              </ul>
            </li>
          </ul>
        </div>
        <section id="nested-classes">
          <h2>Classes</h2>
          <dl class="m-doc">
            <dt>
              <div class="m-doc-template">template&lt;typename T&gt;</div>
              class <a href="dip-DFT-T.html" class="m-doc">dip::<wbr />DFT</a>
            </dt>
            <dd>An object that encapsulates the Discrete Fourier Transform (DFT).</dd>
          </dl>
        </section>
        <section id="function-members">
          <h2>Functions</h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#dip-GetOptimalDFTSize-std-size_t--bool-" class="m-doc">dip::<wbr />GetOptimalDFTSize</a>(</span><span class="m-doc-wrap">std::size_t size0,
              bool larger = true) -&gt; std::size_t</span>
            </dt>
            <dd>Returns a size equal or larger to <code>size0</code> that is efficient for our DFT implementation.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-FourierTransform-dip-Image-CL-dip-Image-L-dip-StringSet-CL-dip-BooleanArray-" class="m-doc">dip::<wbr />FourierTransform</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="supporttypes.html#dip-StringSet" class="m-doc">dip::StringSet</a> const&amp; options = {},
              <a href="supporttypes.html#dip-BooleanArray" class="m-doc">dip::BooleanArray</a> process = {})</span>
            </dt>
            <dd>Computes the forward and inverse Fourier Transform</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#dip-OptimalFourierTransformSize-dip-uint--dip-String-CL" class="m-doc">dip::<wbr />OptimalFourierTransformSize</a>(</span><span class="m-doc-wrap"><a href="supporttypes.html#dip-uint" class="m-doc">dip::uint</a> size,
              <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> const&amp; which = "larger") -&gt; <a href="supporttypes.html#dip-uint" class="m-doc">dip::uint</a></span>
            </dt>
            <dd>Returns the next larger (or smaller) multiple of {2, 3, 5}, an image of this size is more
efficient for FFT computations.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-RieszTransform-dip-Image-CL-dip-Image-L-dip-String-CL-dip-String-CL-dip-BooleanArray-" class="m-doc">dip::<wbr />RieszTransform</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> const&amp; inRepresentation = S::SPATIAL,
              <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> const&amp; outRepresentation = S::SPATIAL,
              <a href="supporttypes.html#dip-BooleanArray" class="m-doc">dip::BooleanArray</a> process = {})</span>
            </dt>
            <dd>Computes the Riesz transform of a scalar image.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-StationaryWaveletTransform-dip-Image-CL-dip-Image-L-dip-uint--dip-StringArray-CL-dip-BooleanArray-CL" class="m-doc">dip::<wbr />StationaryWaveletTransform</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="supporttypes.html#dip-uint" class="m-doc">dip::uint</a> nLevels = 4,
              <a href="supporttypes.html#dip-StringArray" class="m-doc">dip::StringArray</a> const&amp; boundaryCondition = {},
              <a href="supporttypes.html#dip-BooleanArray" class="m-doc">dip::BooleanArray</a> const&amp; process = {})</span>
            </dt>
            <dd>Computes a stationary wavelet transform (also called à-trous wavelet decomposition).</dd>
          </dl>
        </section>
        <section id="variable-members">
          <h2>Variables</h2>
          <dl class="m-doc">
            <dt>
            std::size_t const <a href="#dip-maximumDFTSize" class="m-doc">dip::<wbr />maximumDFTSize</a> <span class="m-label m-flat m-primary">constexpr</span>
            </dt>
            <dd>The largest size supported by <a href="dip-DFT-T.html"><code>dip::DFT</code></a> and <a href="transform.html#dip-FourierTransform-dip-Image-CL-dip-Image-L-dip-StringSet-CL-dip-BooleanArray-"><code>dip::FourierTransform</code></a>, equal to 2<sup>31</sup>-1.
Both the built-in DFT and the FFTW library use <code>int</code> for array sizes.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="dip-GetOptimalDFTSize-std-size_t--bool-"><div>
            <h3>
              <span class="m-doc-wrap-bumper">std::size_t
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-GetOptimalDFTSize-std-size_t--bool-" class="m-doc-self">dip::<wbr />GetOptimalDFTSize</a>(</span><span class="m-doc-wrap">std::size_t size0,
              bool larger = true)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="file--diplib--dft-h.html">"diplib/dft.h"</a></div>
            </h3>
            <p>Returns a size equal or larger to <code>size0</code> that is efficient for our DFT implementation.</p>
<p>Set <code>larger</code> to false to return a size equal or smaller instead.</p>
<p>Returns 0 if <code>size0</code> is too large for our DFT implementation.</p>
<p>Prefer to use <a href="transform.html#dip-OptimalFourierTransformSize-dip-uint--dip-String-CL"><code>dip::OptimalFourierTransformSize</code></a> in your applications, it will throw an error if
the transform size is too large.</p>
          </div></section>
          <section class="m-doc-details" id="dip-FourierTransform-dip-Image-CL-dip-Image-L-dip-StringSet-CL-dip-BooleanArray-"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-FourierTransform-dip-Image-CL-dip-Image-L-dip-StringSet-CL-dip-BooleanArray-" class="m-doc-self">dip::<wbr />FourierTransform</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="supporttypes.html#dip-StringSet" class="m-doc">dip::StringSet</a> const&amp; options = {},
              <a href="supporttypes.html#dip-BooleanArray" class="m-doc">dip::BooleanArray</a> process = {})</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="file--diplib--transform-h.html">"diplib/transform.h"</a></div>
            </h3>
            <p>Computes the forward and inverse Fourier Transform</p>
<p>The Fourier transform as implemented here places the origin (frequency 0) in the middle of
the image. If the image has <code>N</code> pixels along a dimension, then the origin will be at pixel <code>N/2</code>
along that dimension, where <code>N/2</code> is the integer division, and hence truncates the result for
odd values of <code>N</code>. For example, an image of 256 pixels wide will have the origin at pixel 128
(right of the center), whereas an image of 255 pixels will have the origin at pixel 127
(dead in the middle). The same is true for the spatial domain, which is only obvious when
computing the Fourier transform of a convolution kernel.</p>
<p>As it is commonly defined, the Fourier transform is not normalized, and the inverse transform
is normalized by <code>1/size</code> for each dimension. This normalization is necessary for the sequence of
forward and inverse transform to be idempotent. However, it is possible to change where the
normalization is applied. For example, <em>DIPlib 2</em> used identical
normalization for each of the two transforms. The advantage of using the common
definition without normalization in the forward transform is that it is straightforward to
transform an image and a convolution kernel, multiply them, and apply the inverse transform, as
an efficient way to compute the convolution. With any other normalization, this process would
require an extra multiplication by a constant to undo the normalization in the forward transform
of the convolution kernel.</p>
<p>This function will compute the Fourier Transform along the dimensions indicated by <code>process</code>. If
<code>process</code> is an empty array, all dimensions will be processed (normal multi-dimensional transform).</p>
<p><code>options</code> is an set of strings that indicate how the transform is applied:</p>
<ul>
<li>&ldquo;inverse&rdquo;: compute the inverse transform; not providing this string causes the the forward
  transform to be computed.</li>
<li>&ldquo;real&rdquo;: assumes that the (complex) input is conjugate symmetric, and returns a real-valued
  result. Only to be used together with &ldquo;inverse&rdquo;.</li>
<li>&ldquo;fast&rdquo;: pads the input to a &ldquo;nice&rdquo; size, multiple of 2, 3 and 5, which can be processed faster.
  Note that &ldquo;fast&rdquo; causes the output to be interpolated. This is not always a problem
  when computing convolutions or correlations, but will introduce e.g. edge effects in the result
  of the convolution.</li>
<li>&ldquo;corner&rdquo;: sets the origin to the top-left corner of the image (both in the spatial and the
  frequency domain). This yields a standard DFT (Discrete Fourier Transform).</li>
<li>&ldquo;symmetric&rdquo;: the normalization is made symmetric, where both forward and inverse transforms
  are normalized by the same amount. Each transform is multiplied by <code>1/sqrt(size)</code> for each
  dimension. This makes the transform identical to how it was in <em>DIPlib 2</em>.</li>
</ul>
<p>For tensor images, each plane is transformed independently.</p>
<p>With the &ldquo;fast&rdquo; mode, the input will be padded. If &ldquo;corner&rdquo; is given, the padding is to the right.
Otherwise it is split evenly on both sides, in such a way that the origin remains in the middle pixel.
For the forward transform, the padding applied is the &ldquo;zero order&rdquo; boundary condition (see <a href="boundary.html#dip-BoundaryCondition"><code>dip::BoundaryCondition</code></a>).
Its effect is similar to padding with zeros, but with reduced edge effects.
For the inverse transform, padding is with zeros (&ldquo;add zeros&rdquo; boundary condition). However, the combination
of &ldquo;fast&rdquo;, &ldquo;corner&rdquo; and &ldquo;inverse&rdquo; is not allowed, since padding in that case is non-trivial.</p>
<aside class="m-note m-warning">
<h4>Warning</h4>
<p>The largest size that can be transformed is 2<sup>31</sup>-1 (<a href="transform.html#dip-maximumDFTSize"><code>dip::maximumDFTSize</code></a>). In <em>DIPlib</em>, image sizes are
represented by a <a href="supporttypes.html#dip-uint"><code>dip::uint</code></a>, which on a 64-bit system can hold values up to 2<sup>64</sup>-1. But this function
uses <code>int</code> internally to represent sizes, and therefore has a more strict limit to image sizes. Note
that this limit refers to the size of one image dimension, not to the total number of pixels in the image.</p>
</aside>
          </div></section>
          <section class="m-doc-details" id="dip-OptimalFourierTransformSize-dip-uint--dip-String-CL"><div>
            <h3>
              <span class="m-doc-wrap-bumper"><a href="supporttypes.html#dip-uint" class="m-doc">dip::uint</a>
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-OptimalFourierTransformSize-dip-uint--dip-String-CL" class="m-doc-self">dip::<wbr />OptimalFourierTransformSize</a>(</span><span class="m-doc-wrap"><a href="supporttypes.html#dip-uint" class="m-doc">dip::uint</a> size,
              <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> const&amp; which = "larger")</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="file--diplib--transform-h.html">"diplib/transform.h"</a></div>
            </h3>
            <p>Returns the next larger (or smaller) multiple of {2, 3, 5}, an image of this size is more
efficient for FFT computations.</p>
<p>The largest value that can be returned is 2125764000
(smaller than 2<sup>31</sup>-1, the largest possible value of an <code>int</code> on most platforms).</p>
<p>By default, <code>which</code> is <code>"larger"</code>, in which case it returns the next larger value. Set it
to <code>"smaller"</code> to obtain the next smaller value instead.</p>
<p>Pad an image with zeros to the next larger size or crop the image to the next smaller size to
improve FFT performance.</p>
          </div></section>
          <section class="m-doc-details" id="dip-RieszTransform-dip-Image-CL-dip-Image-L-dip-String-CL-dip-String-CL-dip-BooleanArray-"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-RieszTransform-dip-Image-CL-dip-Image-L-dip-String-CL-dip-String-CL-dip-BooleanArray-" class="m-doc-self">dip::<wbr />RieszTransform</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> const&amp; inRepresentation = S::SPATIAL,
              <a href="supporttypes.html#dip-String" class="m-doc">dip::String</a> const&amp; outRepresentation = S::SPATIAL,
              <a href="supporttypes.html#dip-BooleanArray" class="m-doc">dip::BooleanArray</a> process = {})</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="file--diplib--transform-h.html">"diplib/transform.h"</a></div>
            </h3>
            <p>Computes the Riesz transform of a scalar image.</p>
<p>The Riesz transform is the multi-dimensional generalization of the Hilbert transform, and identical to it for
one-dimensional images. It is computed through the Fourier domain by</p>
<div class="m-math"><svg style="width: 12.994em; height: 2.863em; vertical-align: 0.030em; " viewBox="129.08 -28.93 129.94 28.63">
<title>
\[ R_j f = \mathcal{F}^{-1} \left\{ -i\frac{x_j}{|x|}(\mathcal{F}f) \right\} \; , \]
</title>
<defs>
<path id='eq212-g4-26' d='M4.74 27.92C4.74 27.85 4.6 27.75 4.55 27.73C3.44 27.14 3.05 25.76 3.05 23.34V17.04C3.05 16.19 2.7 14.27 1.38 13.61C2.7 12.96 3.05 11.04 3.05 10.18V3.95C3.05 1.54 3.44 .15 4.55-.43C4.6-.45 4.74-.55 4.74-.62C4.74-.66 4.72-.67 4.68-.67C4.63-.67 4.56-.64 4.53-.63C3.85-.43 2.13 .46 2.13 3.98V10.17C2.13 12.91 .58 13.63 .57 13.63C.58 13.63 2.13 14.34 2.13 17.08V23.32C2.13 26.83 3.85 27.73 4.53 27.93C4.56 27.94 4.63 27.97 4.68 27.97C4.72 27.97 4.74 27.95 4.74 27.92Z'/>
<path id='eq212-g4-27' d='M.57 27.92C.57 27.95 .6 27.97 .63 27.97C.68 27.97 .75 27.94 .79 27.93C1.46 27.73 3.18 26.83 3.18 23.32V17.08C3.18 14.34 4.73 13.63 4.74 13.63C4.73 13.63 3.18 12.91 3.18 10.17V3.98C3.18 .46 1.46-.43 .79-.63C.75-.64 .68-.67 .63-.67C.6-.67 .57-.66 .57-.62C.57-.55 .71-.45 .76-.43C1.87 .15 2.26 1.54 2.26 3.95V10.18C2.26 11.04 2.61 12.96 3.93 13.61C2.61 14.27 2.26 16.19 2.26 17.04V23.34C2.26 25.76 1.87 27.14 .76 27.73C.71 27.75 .57 27.85 .57 27.92Z'/>
<use id='eq212-g16-39' xlink:href='#eq212-g13-39' transform='scale(1.36)'/>
<use id='eq212-g16-53' xlink:href='#eq212-g13-53' transform='scale(1.36)'/>
<use id='eq212-g16-56' xlink:href='#eq212-g13-56' transform='scale(1.36)'/>
<use id='eq212-g16-71' xlink:href='#eq212-g13-71' transform='scale(1.36)'/>
<use id='eq212-g16-150' xlink:href='#eq212-g13-150' transform='scale(1.36)'/>
<path id='eq212-g7-0' d='M5.01-2V-2.49H.54V-2H5.01Z'/>
<path id='eq212-g7-70' d='M7.44-5.99C7.44-6.05 7.41-6.12 7.35-6.16C7.35-5.69 6.57-5.63 6.23-5.63C5.29-5.63 4.37-5.86 3.43-5.86C3.22-5.86 3.01-5.85 2.8-5.82C1.98-5.69 .16-4.88 .16-3.9C.16-3.62 .68-2.94 .97-2.94C1-2.94 1.04-2.95 1.07-2.96C.83-3.17 .78-3.5 .78-3.81C.78-4.98 2-5.42 2.99-5.42C3.28-5.42 3.55-5.41 3.84-5.38C3.09-4.94 2.66-4.24 2.46-3.42C2.31-3.42 2.15-3.42 1.99-3.44C1.9-3.3 1.79-3.17 1.69-3.04C1.88-3.1 2.08-3.11 2.28-3.11H2.41C2.23-2.09 1.64 .41 .31 .41C.23 .41 .13 .38 .06 .33C.09 .52 .27 .58 .43 .58C.66 .58 .89 .55 1.11 .46C2.74-.21 2.85-1.67 3.3-3.14H5.17C5.28-3.14 5.5-3.49 5.56-3.57L5.54-3.61C5.28-3.43 4.49-3.43 4.17-3.43H3.35C3.44-3.83 3.73-5.33 4.24-5.33C4.83-5.33 5.42-5.17 6.01-5.17C6.41-5.17 7.44-5.5 7.44-5.99Z'/>
<path id='eq212-g7-106' d='M1.12 1.69V-6.18H.63V1.69H1.12Z'/>
<path id='eq212-g7-185' d='M2.58-6.26C1.31-5.44 .42-4.03 .42-2.24C.42-.62 1.35 1.02 2.55 1.76L2.66 1.62C1.5 .72 1.17-.34 1.17-2.27C1.17-4.21 1.53-5.21 2.66-6.12L2.58-6.26Z'/>
<path id='eq212-g7-186' d='M.33-6.26L.25-6.12C1.38-5.21 1.74-4.21 1.74-2.27C1.74-.34 1.41 .72 .25 1.62L.36 1.76C1.56 1.02 2.49-.62 2.49-2.24C2.49-4.03 1.6-5.44 .33-6.26Z'/>
<use id='eq212-g10-0' xlink:href='#eq212-g7-0' transform='scale(1.36)'/>
<use id='eq212-g10-70' xlink:href='#eq212-g7-70' transform='scale(1.36)'/>
<use id='eq212-g10-106' xlink:href='#eq212-g7-106' transform='scale(1.36)'/>
<use id='eq212-g10-185' xlink:href='#eq212-g7-185' transform='scale(1.36)'/>
<use id='eq212-g10-186' xlink:href='#eq212-g7-186' transform='scale(1.36)'/>
<path id='eq212-g20-49' d='M3.44 0V-.13C2.75-.14 2.61-.23 2.61-.65V-5.89L2.54-5.9L.97-5.11V-4.99C1.07-5.03 1.17-5.07 1.21-5.08C1.36-5.14 1.51-5.18 1.6-5.18C1.78-5.18 1.86-5.05 1.86-4.77V-.81C1.86-.52 1.79-.32 1.65-.24C1.52-.17 1.4-.14 1.03-.13V0H3.44Z'/>
<path id='eq212-g1-61' d='M6.57-3.93V-4.6H.48V-3.93H6.57ZM6.57-1.51V-2.18H.48V-1.51H6.57Z'/>
<path id='eq212-g13-39' d='M4.95 0V-.14C4.57-.17 4.39-.31 4.23-.77L3.42-2.91C4.09-3.06 4.38-3.18 4.69-3.46C4.98-3.71 5.14-4.05 5.14-4.45C5.14-5.26 4.5-5.7 3.32-5.7H1.15V-5.56C1.52-5.51 1.56-5.5 1.66-5.44C1.72-5.4 1.77-5.29 1.77-5.2C1.77-5.09 1.74-4.88 1.67-4.65L.59-.79C.44-.27 .38-.22-.11-.14V0H2.02V-.14C1.48-.21 1.42-.24 1.42-.55C1.42-.64 1.44-.72 1.53-1.05L2.02-2.87L2.59-2.83L3.66 0H4.95ZM4.22-4.46C4.22-3.6 3.66-3.15 2.57-3.15C2.41-3.15 2.34-3.16 2.12-3.2L2.69-5.2C2.74-5.38 2.86-5.44 3.14-5.44C3.86-5.44 4.22-5.12 4.22-4.46Z'/>
<path id='eq212-g13-53' d='M3.7-5.35C3.7-5.68 3.38-5.92 2.95-5.92C2.53-5.92 2.2-5.74 1.89-5.35C1.62-5 1.43-4.59 1.17-3.74H.37L.31-3.46H1.09L.32 .21C.12 1.15-.16 1.62-.52 1.62C-.63 1.62-.7 1.56-.7 1.48C-.7 1.45-.69 1.43-.66 1.39C-.63 1.34-.62 1.3-.62 1.25C-.62 1.07-.78 .92-.96 .92S-1.28 1.07-1.28 1.28C-1.28 1.58-.99 1.81-.59 1.81C.18 1.81 .79 .95 1.15-.66L1.78-3.46H2.73L2.79-3.74H1.84C2.1-5.12 2.42-5.73 2.91-5.73C3.03-5.73 3.1-5.69 3.1-5.62C3.1-5.62 3.09-5.57 3.07-5.54C3.02-5.47 3.01-5.42 3.01-5.35C3.01-5.14 3.14-5 3.34-5C3.54-5 3.7-5.16 3.7-5.35Z'/>
<path id='eq212-g13-56' d='M2.05-.9L1.94-1C1.56-.5 1.37-.31 1.22-.31C1.15-.31 1.08-.38 1.08-.45C1.08-.59 1.17-.85 1.22-1.02L1.99-3.83L1.97-3.85C1.08-3.69 .91-3.66 .57-3.63V-3.49C1.04-3.49 1.12-3.46 1.12-3.28C1.12-3.21 1.09-3.07 1.04-2.9L.62-1.35C.48-.83 .43-.58 .43-.4C.43-.08 .57 .1 .83 .1C1.24 .1 1.55-.17 2.05-.9ZM2.41-5.14C2.41-5.39 2.21-5.62 1.97-5.62S1.56-5.42 1.56-5.15C1.56-4.87 1.73-4.69 1.98-4.69C2.21-4.69 2.41-4.89 2.41-5.14Z'/>
<path id='eq212-g13-57' d='M1.24-.24L2.15-3.83L2.12-3.85C1.39-3.72 .92-3.65 .64-3.63V-3.49L.87-3.5H.93C1.18-3.5 1.28-3.42 1.28-3.22C1.28-3.14 1.25-2.95 1.14-2.52L.52 .03C.22 1.23 .02 1.61-.33 1.61C-.44 1.61-.49 1.57-.49 1.51C-.49 1.48-.48 1.46-.45 1.41C-.39 1.35-.38 1.3-.38 1.23C-.38 1.05-.53 .91-.73 .91S-1.08 1.07-1.08 1.28C-1.08 1.59-.79 1.81-.39 1.81C.37 1.81 .89 1.15 1.24-.24ZM2.63-5.14C2.63-5.39 2.43-5.62 2.19-5.62S1.74-5.42 1.74-5.15C1.74-4.87 1.95-4.69 2.2-4.69C2.43-4.69 2.63-4.89 2.63-5.14Z'/>
<path id='eq212-g13-71' d='M3.63-.9L3.51-.97C3.44-.88 3.4-.84 3.32-.73C3.12-.47 3.02-.38 2.91-.38C2.79-.38 2.71-.5 2.65-.74C2.63-.82 2.62-.86 2.61-.88C2.4-1.7 2.3-2.17 2.3-2.31C2.68-2.98 3-3.36 3.15-3.36C3.21-3.36 3.28-3.34 3.36-3.29C3.47-3.23 3.53-3.21 3.61-3.21C3.78-3.21 3.9-3.35 3.9-3.53C3.9-3.72 3.76-3.85 3.55-3.85C3.16-3.85 2.84-3.54 2.23-2.6L2.13-3.08C2.01-3.68 1.91-3.85 1.68-3.85C1.48-3.85 1.2-3.78 .66-3.6L.56-3.56L.59-3.43L.74-3.47C.91-3.51 1.01-3.53 1.08-3.53C1.3-3.53 1.35-3.45 1.48-2.93L1.73-1.85L1.01-.83C.83-.57 .66-.41 .57-.41C.52-.41 .43-.44 .34-.49C.23-.55 .14-.58 .06-.58C-.11-.58-.24-.45-.24-.27C-.24-.04-.07 .1 .2 .1S.58 .02 1.01-.51L1.8-1.54L2.06-.49C2.17-.03 2.29 .1 2.57 .1C2.9 .1 3.13-.11 3.63-.9Z'/>
<path id='eq212-g13-150' d='M1.7-.05C1.7-.78 1.2-.89 1-.89C.78-.89 .49-.76 .49-.38C.49-.03 .8 .05 1.03 .05C1.09 .05 1.14 .04 1.16 .03C1.2 .03 1.22 .02 1.24 .02C1.3 .02 1.36 .06 1.36 .14C1.36 .31 1.22 .7 .65 1.07L.72 1.23C.99 1.14 1.7 .57 1.7-.05Z'/>
</defs>
<g id='eq212-page1'>
<use x='129.24' y='-11.4' xlink:href='#eq212-g16-39'/>
<use x='137.81' y='-9.6' xlink:href='#eq212-g13-57'/>
<use x='143.65' y='-11.4' xlink:href='#eq212-g16-53'/>
<use x='152.4' y='-11.4' xlink:href='#eq212-g1-61'/>
<use x='163.1' y='-11.4' xlink:href='#eq212-g10-70'/>
<use x='173.07' y='-16.33' xlink:href='#eq212-g7-0'/>
<use x='178.64' y='-16.33' xlink:href='#eq212-g20-49'/>
<use x='186.12' y='-28.27' xlink:href='#eq212-g4-26'/>
<use x='191.69' y='-11.4' xlink:href='#eq212-g10-0'/>
<use x='199.05' y='-11.4' xlink:href='#eq212-g16-56'/>
<use x='205.03' y='-20.42' xlink:href='#eq212-g16-71'/>
<use x='211.84' y='-18.63' xlink:href='#eq212-g13-57'/>
<rect x='204.02' y='-14.8' height='.67' width='12.58'/>
<use x='204.5' y='-3.2' xlink:href='#eq212-g10-106'/>
<use x='207.37' y='-3.2' xlink:href='#eq212-g16-71'/>
<use x='213.74' y='-3.2' xlink:href='#eq212-g10-106'/>
<use x='218.4' y='-11.4' xlink:href='#eq212-g10-185'/>
<use x='223.16' y='-11.4' xlink:href='#eq212-g10-70'/>
<use x='235.21' y='-11.4' xlink:href='#eq212-g16-53'/>
<use x='240.64' y='-11.4' xlink:href='#eq212-g10-186'/>
<use x='245.45' y='-28.27' xlink:href='#eq212-g4-27'/>
<use x='256.7' y='-11.4' xlink:href='#eq212-g16-150'/>
</g>
</svg></div>
<p>where <span class="m-math"><svg style="width: 0.680em; height: 1.054em; vertical-align: -0.246em; " viewBox=".33 -8.08 6.8 10.54">
<title>
\(f\)
</title>
<defs>
<path id='eq213-g1-53' d='M5.05-7.3C5.05-7.74 4.61-8.08 4.03-8.08C3.45-8.08 3-7.83 2.57-7.3C2.2-6.82 1.95-6.26 1.6-5.1H.5L.42-4.72H1.49L.44 .29C.17 1.57-.21 2.22-.71 2.22C-.86 2.22-.95 2.13-.95 2.02C-.95 1.98-.94 1.95-.91 1.89C-.86 1.82-.85 1.77-.85 1.7C-.85 1.45-1.06 1.25-1.31 1.25S-1.75 1.46-1.75 1.74C-1.75 2.16-1.35 2.47-.81 2.47C.25 2.47 1.07 1.3 1.57-.91L2.43-4.72H3.73L3.8-5.1H2.51C2.86-6.98 3.3-7.81 3.97-7.81C4.13-7.81 4.23-7.75 4.23-7.66C4.23-7.66 4.22-7.6 4.18-7.55C4.12-7.46 4.11-7.4 4.11-7.3C4.11-7.02 4.29-6.82 4.55-6.82C4.82-6.82 5.05-7.04 5.05-7.3Z'/>
</defs>
<g id='eq213-page1'>
<use x='2.08' y='0' xlink:href='#eq213-g1-53'/>
</g>
</svg></span> is the input image and <span class="m-math"><svg style="width: 0.565em; height: 0.538em; vertical-align: -0.013em; " viewBox="-.32 -5.25 5.65 5.38">
<title>
\(x\)
</title>
<defs>
<path id='eq214-g1-71' d='M4.95-1.23L4.79-1.32C4.69-1.2 4.63-1.14 4.53-1C4.25-.64 4.12-.52 3.97-.52C3.8-.52 3.69-.68 3.61-1.01C3.59-1.12 3.57-1.18 3.56-1.2C3.28-2.32 3.13-2.97 3.13-3.14C3.66-4.06 4.09-4.59 4.3-4.59C4.37-4.59 4.48-4.55 4.59-4.49C4.73-4.41 4.81-4.38 4.92-4.38C5.16-4.38 5.32-4.56 5.32-4.81C5.32-5.07 5.12-5.25 4.84-5.25C4.31-5.25 3.87-4.82 3.04-3.55L2.91-4.2C2.74-5.01 2.61-5.25 2.29-5.25C2.01-5.25 1.63-5.16 .89-4.91L.76-4.86L.81-4.68L1.01-4.73C1.24-4.79 1.38-4.81 1.48-4.81C1.77-4.81 1.85-4.7 2.01-3.99L2.36-2.53L1.38-1.13C1.13-.77 .91-.56 .77-.56C.7-.56 .58-.6 .46-.67C.31-.75 .19-.79 .08-.79C-.15-.79-.32-.61-.32-.37C-.32-.06-.1 .13 .27 .13S.79 .02 1.38-.69L2.45-2.1L2.81-.67C2.97-.05 3.12 .13 3.5 .13C3.95 .13 4.26-.15 4.95-1.23Z'/>
</defs>
<g id='eq214-page1'>
<use x='0' y='0' xlink:href='#eq214-g1-71'/>
</g>
</svg></span> is the coordinate vector.</p>
<p><code>out</code> is a vector image with one element per image dimension. If <code>process</code> is given, it specifies which
dimensions to include in the output vector image. <code>in</code> must be scalar.</p>
<p><code>inRepresentation</code> and <code>outRepresentation</code> can be <code>"spatial"</code> or <code>"frequency"</code>, and indicate in which domain
the input image is, and in which domain the output image should be.
If <code>inRepresentation</code> is <code>"frequency"</code>, the input image must already be in the frequency domain, and will not
be transformed again. Likewise, if <code>outRepresentation</code> is <code>"frequency"</code>, the output image will not be transformed
to the spatial domain. Use these flags to prevent redundant back-and-forth transformations if other processing
in the frequency domain is necessary.</p>
          </div></section>
          <section class="m-doc-details" id="dip-StationaryWaveletTransform-dip-Image-CL-dip-Image-L-dip-uint--dip-StringArray-CL-dip-BooleanArray-CL"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-StationaryWaveletTransform-dip-Image-CL-dip-Image-L-dip-uint--dip-StringArray-CL-dip-BooleanArray-CL" class="m-doc-self">dip::<wbr />StationaryWaveletTransform</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="supporttypes.html#dip-uint" class="m-doc">dip::uint</a> nLevels = 4,
              <a href="supporttypes.html#dip-StringArray" class="m-doc">dip::StringArray</a> const&amp; boundaryCondition = {},
              <a href="supporttypes.html#dip-BooleanArray" class="m-doc">dip::BooleanArray</a> const&amp; process = {})</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="file--diplib--transform-h.html">"diplib/transform.h"</a></div>
            </h3>
            <p>Computes a stationary wavelet transform (also called à-trous wavelet decomposition).</p>
<p>For an <em>n</em>-dimensional input image, creates an (<em>n</em>+1)-dimensional output image where each
slice corresponds to one level of the wavelet transform. The first slice is the lowest level
(finest detail), and subsequent slices correspond to increasingly coarser levels. The last
slice corresponds to the residue. There are <code>nLevels + 1</code> slices in total.</p>
<p>The filter used to smooth the image for the first level is <code>[1/16, 1/4, 3/8, 1/4, 1/16]</code>,
applied to each dimension in sequence through <a href="linear.html#dip-SeparableConvolution-dip-Image-CL-dip-Image-L-dip-OneDimensionalFilterArray-CL-dip-StringArray-CL-dip-BooleanArray-"><code>dip::SeparableConvolution</code></a>.
For subsequent levels, zeros are inserted into this filter.</p>
<p><code>boundaryCondition</code> is passed to <a href="linear.html#dip-SeparableConvolution-dip-Image-CL-dip-Image-L-dip-OneDimensionalFilterArray-CL-dip-StringArray-CL-dip-BooleanArray-"><code>dip::SeparableConvolution</code></a> to determine how to extend the
input image past its boundary. <code>process</code> can be used to exclude some dimensions from the
filtering.</p>
<p><code>in</code> can have any number of dimensions, any number of tensor elements, and any data type.
<code>out</code> will have the smallest signed data type that can hold all values if <code>in</code> (see
<a href="dip-DataType.html#dip-DataType-SuggestSigned-dip-DataType-"><code>dip::DataType::SuggestSigned</code></a>. Note that the first <code>nLevels</code> slices will contain negative
values, even if <code>in</code> is purely positive, as these levels are the difference between two
differently smoothed images.</p>
<p>Summing the output image along its last dimension will yield the input image:</p>
<div class="m-code"><pre><span></span><span class="n">dip</span><span class="o">::</span><span class="n">Image</span><span class="w"> </span><span class="n">img</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">...;</span><span class="w"></span>
<span class="n">dip</span><span class="o">::</span><span class="n">Image</span><span class="w"> </span><span class="n">swt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StationaryWaveletTransform</span><span class="p">(</span><span class="w"> </span><span class="n">img</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">dip</span><span class="o">::</span><span class="n">BooleanArray</span><span class="w"> </span><span class="nf">process</span><span class="p">(</span><span class="w"> </span><span class="n">swt</span><span class="p">.</span><span class="n">Dimensionality</span><span class="p">(),</span><span class="w"> </span><span class="nb">false</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">process</span><span class="p">.</span><span class="n">back</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"></span>
<span class="n">img</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">dip</span><span class="p">.</span><span class="n">Sum</span><span class="p">(</span><span class="w"> </span><span class="n">swt</span><span class="p">,</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="p">).</span><span class="n">Squeeze</span><span class="p">();</span><span class="w"></span>
</pre></div>
          </div></section>
        </section>
        <section>
          <h2>Variable documentation</h2>
          <section class="m-doc-details" id="dip-maximumDFTSize"><div>
            <h3>
              std::size_t const <a href="#dip-maximumDFTSize" class="m-doc-self">dip::<wbr />maximumDFTSize</a> <span class="m-label m-primary">constexpr</span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="file--diplib--dft-h.html">"diplib/dft.h"</a></div>
            </h3>
            <p>The largest size supported by <a href="dip-DFT-T.html"><code>dip::DFT</code></a> and <a href="transform.html#dip-FourierTransform-dip-Image-CL-dip-Image-L-dip-StringSet-CL-dip-BooleanArray-"><code>dip::FourierTransform</code></a>, equal to 2<sup>31</sup>-1.
Both the built-in DFT and the FFTW library use <code>int</code> for array sizes.</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form action="https://diplib.org/diplib-docs/#search">
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript. Enable it or <a href="https://google.com/search?q=site:diplib.org+">use an external search engine</a>.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or modules.
              You can omit any prefix from the symbol or file path; adding a <code>:</code> or
              <code>/</code> suffix lists all members of given symbol or directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span> / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
              <span class="m-label m-dim">Enter</span> to go.
              <span class="m-label m-dim">Tab</span> autocompletes common prefix.
              You can copy a link to the result using <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">L</span>,
              or <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">M</span> to copy a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.<br />Maybe try a full-text <a href="#" id="search-external" data-search-engine="https://google.com/search?q=site:diplib.org+{query}">search with external engine</a>?</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>DIPlib, a library for quantitative image analysis. Documentation compiled with <a href="https://crisluengo.github.io/doxpp/">dox++</a> and styled with <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>