<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Generation &raquo; Noise generation module | DIPlib | a library for quantitative image analysis</title>
  <link rel="stylesheet" href="m-dip+documentation.compiled.css" />
  <link rel="icon" href="DIPlib_logo_32.png" type="image/png" />
  <link rel="search" type="application/opensearchdescription+xml" href="opensearch.xml" title="Search DIPlib documentation" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#ffffff" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <span id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">
        <a href="https://diplib.org"><img src="DIPlib_logo.svg" alt="" />DIPlib</a><span class="m-breadcrumb">┃</span><a href="index.html" class="m-thin">a library for quantitative image analysis</a><span class="m-breadcrumb">┃</span><a href="https://github.com/DIPlib/diplib/releases/tag/3.4.0" class="m-thin">version 3.4.0</a>      </span>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="classes.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="generation.html">Generation</a> &raquo;</span>
          Noise generation <span class="m-thin">module</span>          <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="file--diplib--generation-h.html">"diplib/generation.h"</a></div>
        </h1>
        <p>Adding noise to an image</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#function-members">Functions</a></li>
              </ul>
            </li>
          </ul>
        </div>
        <section id="function-members">
          <h2>Functions</h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-UniformNoise-dip-Image-CL-dip-Image-L-dip-Random-L-dip-dfloat--dip-dfloat-" class="m-doc">dip::<wbr />UniformNoise</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="dip-Random.html" class="m-doc">dip::Random</a>&amp; random,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> lowerBound = 0.0,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> upperBound = 1.0)</span>
            </dt>
            <dd>Adds uniformly distributed white noise to the input image.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-GaussianNoise-dip-Image-CL-dip-Image-L-dip-Random-L-dip-dfloat-" class="m-doc">dip::<wbr />GaussianNoise</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="dip-Random.html" class="m-doc">dip::Random</a>&amp; random,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> variance = 1.0)</span>
            </dt>
            <dd>Adds normally distributed white noise to the input image.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-PoissonNoise-dip-Image-CL-dip-Image-L-dip-Random-L-dip-dfloat-" class="m-doc">dip::<wbr />PoissonNoise</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="dip-Random.html" class="m-doc">dip::Random</a>&amp; random,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> conversion = 1.0)</span>
            </dt>
            <dd>Adds Poisson-distributed white noise to the input image.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-BinaryNoise-dip-Image-CL-dip-Image-L-dip-Random-L-dip-dfloat--dip-dfloat-" class="m-doc">dip::<wbr />BinaryNoise</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="dip-Random.html" class="m-doc">dip::Random</a>&amp; random,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> p10 = 0.05,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> p01 = 0.05)</span>
            </dt>
            <dd>Adds noise to the binary input image.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-SaltPepperNoise-dip-Image-CL-dip-Image-L-dip-Random-L-dip-dfloat--dip-dfloat--dip-dfloat-" class="m-doc">dip::<wbr />SaltPepperNoise</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="dip-Random.html" class="m-doc">dip::Random</a>&amp; random,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> p0 = 0.05,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> p1 = 0.05,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> white = 1.0)</span>
            </dt>
            <dd>Adds salt-and-pepper noise to the input image.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-FillColoredNoise-dip-Image-L-dip-Random-L-dip-dfloat--dip-dfloat-" class="m-doc">dip::<wbr />FillColoredNoise</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="dip-Random.html" class="m-doc">dip::Random</a>&amp; random,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> variance = 1.0,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> color = -2.0)</span>
            </dt>
            <dd>Fills <code>out</code> with colored (Brownian, pink, blue, violet) noise.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#dip-ColoredNoise-dip-Image-CL-dip-Image-L-dip-Random-L-dip-dfloat--dip-dfloat-" class="m-doc">dip::<wbr />ColoredNoise</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="dip-Random.html" class="m-doc">dip::Random</a>&amp; random,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> variance = 1.0,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> color = -2.0)</span>
            </dt>
            <dd>Adds colored (Brownian, pink, blue, violet) noise to <code>in</code>.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="dip-UniformNoise-dip-Image-CL-dip-Image-L-dip-Random-L-dip-dfloat--dip-dfloat-"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-UniformNoise-dip-Image-CL-dip-Image-L-dip-Random-L-dip-dfloat--dip-dfloat-" class="m-doc-self">dip::<wbr />UniformNoise</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="dip-Random.html" class="m-doc">dip::Random</a>&amp; random,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> lowerBound = 0.0,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> upperBound = 1.0)</span></span>
            </h3>
            <p>Adds uniformly distributed white noise to the input image.</p>
<p>The uniformly distributed noise added to the image is taken from the half-open interval
[<code>lowerBound</code>, <code>upperBound</code>). That is, for each pixel it does
<code>in += uniformRandomGenerator( lowerBound, upperBound )</code>. The output image is of the same type as the input image.</p>
<p><code>random</code> is used to generate the random values needed by the first thread. If the algorithm runs in multiple
threads, portions of the image processed by additional threads take their random values from <code>random.Split()</code>,
which is essentially a copy of <code>random</code> set to a different random stream. Given a <a href="dip-Random.html"><code>dip::Random</code></a> object in an
identical state before calling this function, the output image will be different depending on the number of
threads used.</p>
<aside class="m-note m-default">
<h4>See also</h4>
<p><a href="dip-UniformRandomGenerator.html"><code>dip::UniformRandomGenerator</code></a></p>
</aside>
          </div></section>
          <section class="m-doc-details" id="dip-GaussianNoise-dip-Image-CL-dip-Image-L-dip-Random-L-dip-dfloat-"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-GaussianNoise-dip-Image-CL-dip-Image-L-dip-Random-L-dip-dfloat-" class="m-doc-self">dip::<wbr />GaussianNoise</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="dip-Random.html" class="m-doc">dip::Random</a>&amp; random,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> variance = 1.0)</span></span>
            </h3>
            <p>Adds normally distributed white noise to the input image.</p>
<p>The normally distributed noise added to the image is defined by <code>variance</code>, and has a zero mean. That is,
for each pixel it does <code>in += gaussianRandomGenerator( 0, std::sqrt( variance ))</code>. The output image is of the
same type as the input image.</p>
<p><code>random</code> is used to generate the random values needed by the first thread. If the algorithm runs in multiple
threads, portions of the image processed by additional threads take their random values from <code>random.Split()</code>,
which is essentially a copy of <code>random</code> set to a different random stream. Given a <a href="dip-Random.html"><code>dip::Random</code></a> object in an
identical state before calling this function, the output image will be different depending on the number of
threads used.</p>
<aside class="m-note m-default">
<h4>See also</h4>
<p><a href="dip-GaussianRandomGenerator.html"><code>dip::GaussianRandomGenerator</code></a></p>
</aside>
          </div></section>
          <section class="m-doc-details" id="dip-PoissonNoise-dip-Image-CL-dip-Image-L-dip-Random-L-dip-dfloat-"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-PoissonNoise-dip-Image-CL-dip-Image-L-dip-Random-L-dip-dfloat-" class="m-doc-self">dip::<wbr />PoissonNoise</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="dip-Random.html" class="m-doc">dip::Random</a>&amp; random,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> conversion = 1.0)</span></span>
            </h3>
            <p>Adds Poisson-distributed white noise to the input image.</p>
<p>The Poisson-distributed noise is added to the image scaled by <code>conversion</code>. That is,
for each pixel it does <code>in = poissonRandomGenerator( in * conversion ) / conversion</code>.
<code>conversion</code> can be used to relate the pixel values with the number of counts. For example, the simulate a
photon-limited image acquired by a CCD camera, the conversion factor specifies the relation between the number
of photons recorded and the pixel value. Note that the input pixel values must be positive for the noise
to be generated. Pixels with a value of 0 or less will always result in an output value of 0.</p>
<p>The output image is of the same type as the input image.</p>
<p><code>random</code> is used to generate the random values needed by the first thread. If the algorithm runs in multiple
threads, portions of the image processed by additional threads take their random values from <code>random.Split()</code>,
which is essentially a copy of <code>random</code> set to a different random stream. Given a <a href="dip-Random.html"><code>dip::Random</code></a> object in an
identical state before calling this function, the output image will be different depending on the number of
threads used.</p>
<aside class="m-note m-default">
<h4>See also</h4>
<p><a href="dip-PoissonRandomGenerator.html"><code>dip::PoissonRandomGenerator</code></a></p>
</aside>
          </div></section>
          <section class="m-doc-details" id="dip-BinaryNoise-dip-Image-CL-dip-Image-L-dip-Random-L-dip-dfloat--dip-dfloat-"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-BinaryNoise-dip-Image-CL-dip-Image-L-dip-Random-L-dip-dfloat--dip-dfloat-" class="m-doc-self">dip::<wbr />BinaryNoise</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="dip-Random.html" class="m-doc">dip::Random</a>&amp; random,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> p10 = 0.05,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> p01 = 0.05)</span></span>
            </h3>
            <p>Adds noise to the binary input image.</p>
<p>The noise added to the binary image is described by the two probabilities <code>p10</code> and <code>p01</code>. <code>p10</code> is the
probability that a foreground pixel transitions to background (probability of 1 &rarr; 0 transition), and <code>p01</code>
is the probability that a background pixel transitions to foreground (probability to 0 &rarr; 1 transition).
Thus, <code>p10</code> indicates the probability for each foreground pixel in the input image to be set to background,
and <code>p01</code> indicates the probability that a background pixel in the input image is set to foreground. It is
possible to set either of these to 0, to limit the noise to only one of the phases: for example,
<code>BinaryNoise( in, random, 0.05, 0.0 )</code> limits the noise to the foreground components, and does not add noise to
the background.</p>
<p>Note that the noise generated corresponds to a Poisson point process. The distances between changed pixels
have a Poisson distribution. For example, the following bit of code yields a Poisson process with a density
governed by <code>D</code>.</p>
<div class="m-code"><pre><span></span><span class="n">dip</span><span class="o">::</span><span class="n">Random</span><span class="w"> </span><span class="n">random</span><span class="p">;</span><span class="w"></span>
<span class="n">dip</span><span class="o">::</span><span class="n">dfloat</span><span class="w"> </span><span class="n">D</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.001</span><span class="p">;</span><span class="w"></span>
<span class="n">dip</span><span class="o">::</span><span class="n">Image</span><span class="w"> </span><span class="nf">poissonPoint</span><span class="p">(</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span><span class="w"> </span><span class="mi">256</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">dip</span><span class="o">::</span><span class="n">DT_BIN</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">poissonPoint</span><span class="p">.</span><span class="n">Fill</span><span class="p">(</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">BinaryNoise</span><span class="p">(</span><span class="w"> </span><span class="n">poissonPoint</span><span class="p">,</span><span class="w"> </span><span class="n">poissonPoint</span><span class="p">,</span><span class="w"> </span><span class="n">random</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">D</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</pre></div>

<p>The binary noise added to an all-zero image as in the code snippet above is equivalent to thresholding
uniformly-distributed noise at a fraction <code>D</code> of the noise range, from the max value:</p>
<div class="m-code"><pre><span></span><span class="n">dip</span><span class="o">::</span><span class="n">Image</span><span class="w"> </span><span class="nf">poissonPoint2</span><span class="p">(</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span><span class="w"> </span><span class="mi">256</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">dip</span><span class="o">::</span><span class="n">DT_SFLOAT</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">poissonPoint2</span><span class="p">.</span><span class="n">Fill</span><span class="p">(</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">UniformNoise</span><span class="p">(</span><span class="w"> </span><span class="n">poissonPoint2</span><span class="p">,</span><span class="w"> </span><span class="n">poissonPoint2</span><span class="p">,</span><span class="w"> </span><span class="n">random</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">poissonPoint2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">poissonPoint2</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">D</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</pre></div>

<p>Using blue noise it is possible to create a point process with similar density, but more equally-distributed
points:</p>
<div class="m-code"><pre><span></span><span class="n">dip</span><span class="o">::</span><span class="n">Image</span><span class="w"> </span><span class="nf">poissonPoint3</span><span class="p">(</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span><span class="w"> </span><span class="mi">256</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">dip</span><span class="o">::</span><span class="n">DT_SFLOAT</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">FillColoredNoise</span><span class="p">(</span><span class="w"> </span><span class="n">poissonPoint3</span><span class="p">,</span><span class="w"> </span><span class="n">random</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">dip</span><span class="o">::</span><span class="n">dfloat</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Percentile</span><span class="p">(</span><span class="w"> </span><span class="n">poissonPoint3</span><span class="p">,</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">D</span><span class="w"> </span><span class="p">)).</span><span class="n">As</span><span class="o">&lt;</span><span class="w"> </span><span class="n">dip</span><span class="o">::</span><span class="n">dfloat</span><span class="w"> </span><span class="o">&gt;</span><span class="p">();</span><span class="w"></span>
<span class="n">poissonPoint3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">poissonPoint3</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">threshold</span><span class="p">;</span><span class="w"></span>
</pre></div>

<p><code>random</code> is used to generate the random values needed by the first thread. If the algorithm runs in multiple
threads, portions of the image processed by additional threads take their random values from <code>random.Split()</code>,
which is essentially a copy of <code>random</code> set to a different random stream. Given a <a href="dip-Random.html"><code>dip::Random</code></a> object in an
identical state before calling this function, the output image will be different depending on the number of
threads used.</p>
<aside class="m-note m-default">
<h4>See also</h4>
<p><a href="dip-BinaryRandomGenerator.html"><code>dip::BinaryRandomGenerator</code></a></p>
</aside>
          </div></section>
          <section class="m-doc-details" id="dip-SaltPepperNoise-dip-Image-CL-dip-Image-L-dip-Random-L-dip-dfloat--dip-dfloat--dip-dfloat-"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-SaltPepperNoise-dip-Image-CL-dip-Image-L-dip-Random-L-dip-dfloat--dip-dfloat--dip-dfloat-" class="m-doc-self">dip::<wbr />SaltPepperNoise</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="dip-Random.html" class="m-doc">dip::Random</a>&amp; random,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> p0 = 0.05,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> p1 = 0.05,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> white = 1.0)</span></span>
            </h3>
            <p>Adds salt-and-pepper noise to the input image.</p>
<p>The noise added to the image is described by the two probabilities <code>p0</code> and <code>p1</code>. <code>p0</code> is the
probability that a pixel is set to 0 (black), and <code>p01</code> is the probability that a pixel is set to <code>white</code>.
It is possible to set either of these to 0, to limit the noise to only one of the phases: for example,
<code>SaltPepperNoise( in, random, 0.05, 0.0 )</code> adds only black pixels to the image, not white ones. <code>p0+p1</code>
must not be larger than 1.</p>
<p>Note that the noise generated corresponds to a Poisson point process. The distances between changed pixels
have a Poisson distribution.</p>
<p><code>random</code> is used to generate the random values needed by the first thread. If the algorithm runs in multiple
threads, portions of the image processed by additional threads take their random values from <code>random.Split()</code>,
which is essentially a copy of <code>random</code> set to a different random stream. Given a <a href="dip-Random.html"><code>dip::Random</code></a> object in an
identical state before calling this function, the output image will be different depending on the number of
threads used.</p>
<aside class="m-note m-default">
<h4>See also</h4>
<p><a href="dip-UniformRandomGenerator.html"><code>dip::UniformRandomGenerator</code></a></p>
</aside>
          </div></section>
          <section class="m-doc-details" id="dip-FillColoredNoise-dip-Image-L-dip-Random-L-dip-dfloat--dip-dfloat-"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-FillColoredNoise-dip-Image-L-dip-Random-L-dip-dfloat--dip-dfloat-" class="m-doc-self">dip::<wbr />FillColoredNoise</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="dip-Random.html" class="m-doc">dip::Random</a>&amp; random,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> variance = 1.0,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> color = -2.0)</span></span>
            </h3>
            <p>Fills <code>out</code> with colored (Brownian, pink, blue, violet) noise.</p>
<p>Colored noise is correlated, as opposed to white nose, which is uncorrelated.</p>
<p>The output image will have a variance of <code>variance</code>. <code>color</code> indicates the color of the noise (and is equal to
the power of the function used to modulate the frequency spectrum):</p>
<ul>
<li>-2.0: Brownian noise (a.k.a. brown or red noise), with a frequency spectrum proportional to $1/f^2$.</li>
<li>-1.0: pink noise, with a frequency spectrum proportional to $1/f$.</li>
<li>0.0: white noise, equal to <a href="generation_noise.html#dip-GaussianNoise-dip-Image-CL-dip-Image-L-dip-Random-L-dip-dfloat-"><code>dip::GaussianNoise</code></a> (but much more expensive).</li>
<li>1.0: blue noise, with a frequency spectrum proportional to $f$.</li>
<li>2.0: violet noise, with a frequency spectrum proportional to $f^2$.</li>
</ul>
<p>It is possible to specify any values in between these, to tune the color more precisely. Values larger than
2.0 and smaller than -2.0 are possible also, but the results become less interesting quickly as the magnitude
increases.</p>
<p>With pink and Brownian noise, nearby pixels will be positively correlated. That is, the noise changes slowly
across the image. This is because it has more power in the lower frequencies, which represent slow changes.
These forms of noise can add texture to an image. The variance of the output image is given by <code>variance</code>, but
the computed population variance will differ from it more strongly than with white noise. The differences are
stronger for smaller images.</p>
<p>With blue and violet noise, nearby pixels will be negatively correlated. That is, large-scale changes across
the image are weaker. The resulting noise looks more uniform than white noise. Because of this, the computed
population variance in the output will be much closer to <code>variance</code> than with white noise.</p>
          </div></section>
          <section class="m-doc-details" id="dip-ColoredNoise-dip-Image-CL-dip-Image-L-dip-Random-L-dip-dfloat--dip-dfloat-"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void
                </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#dip-ColoredNoise-dip-Image-CL-dip-Image-L-dip-Random-L-dip-dfloat--dip-dfloat-" class="m-doc-self">dip::<wbr />ColoredNoise</a>(</span><span class="m-doc-wrap"><a href="dip-Image.html" class="m-doc">dip::Image</a> const&amp; in,
              <a href="dip-Image.html" class="m-doc">dip::Image</a>&amp; out,
              <a href="dip-Random.html" class="m-doc">dip::Random</a>&amp; random,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> variance = 1.0,
              <a href="pixeltypes.html#dip-dfloat" class="m-doc">dip::dfloat</a> color = -2.0)</span></span>
            </h3>
            <p>Adds colored (Brownian, pink, blue, violet) noise to <code>in</code>.</p>
<p>Equivalent to adding the output of <a href="generation_noise.html#dip-FillColoredNoise-dip-Image-L-dip-Random-L-dip-dfloat--dip-dfloat-"><code>dip::FillColoredNoise</code></a> to <code>in</code>. See the reference for that function for
information on the input parameters. <code>out</code> will have the data type of <code>in</code>.</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form action="https://diplib.org/diplib-docs/#search">
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript. Enable it or <a href="https://google.com/search?q=site:diplib.org+">use an external search engine</a>.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or modules.
              You can omit any prefix from the symbol or file path; adding a <code>:</code> or
              <code>/</code> suffix lists all members of given symbol or directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span> / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
              <span class="m-label m-dim">Enter</span> to go.
              <span class="m-label m-dim">Tab</span> autocompletes common prefix.
              You can copy a link to the result using <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">L</span>,
              or <span class="m-label m-dim">⌘</span> <span class="m-label m-dim">M</span> to copy a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.<br />Maybe try a full-text <a href="#" id="search-external" data-search-engine="https://google.com/search?q=site:diplib.org+{query}">search with external engine</a>?</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>DIPlib, a library for quantitative image analysis. Documentation compiled with <a href="https://crisluengo.github.io/doxpp/">dox++</a> and styled with <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>